{"ast":null,"code":"var _jsxFileName = \"/home/iassureit/react/tgk3t/webapp/field/src/blocks/WebsiteSecurity/LoginMobNum/LoginMobNum.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { withRouter } from 'react-router';\nimport { connect } from 'react-redux';\nimport swal from 'sweetalert';\nimport './LoginMobNum.css';\n\nconst formValid = formerrors => {\n  console.log(\"formerrors\", formerrors);\n  let valid = true;\n  Object.values(formerrors).forEach(val => {\n    val.length > 0 && (valid = false);\n  });\n  return valid;\n};\n\nconst clientmobileRegex = RegExp(/^[0-9][0-9]{9}$/);\n\nclass LoginMobNum extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      mobile: \"\",\n      formerrors: {\n        clientMobile: \"\"\n      }\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {\n    axios.defaults.headers.common['Authorization'] = 'Bearer ' + localStorage.getItem(\"token\");\n  }\n\n  handleNumber(event) {\n    event.preventDefault();\n    var formValues = {\n      mobileNumber: this.state.mobile,\n      countryCode: this.refs.countryCode.value\n    };\n    console.log(\"LoginMobNum==\", formValues);\n\n    if (this.state.mobile != \"\") {\n      if (formValid(this.state.formerrors)) {\n        axios.post('/api/usersotp/verify_mobile', formValues).then(response => {\n          console.log(\"response in mobile = \", response.data);\n          axios.defaults.headers.common['Authorization'] = 'Bearer ' + response.data.token;\n          localStorage.setItem('token', response.data.token);\n          localStorage.setItem('userName', response.data.fullName);\n\n          if (axios.defaults.headers.common.Authorization) {\n            this.props.mobileEntered(response.data.user_id, this.state.mobile, response.data.otp, response.data.message, response.data.fullName, response.data.token); // this.props.availableMobile(this.state.mobile);\n\n            localStorage.setItem('availableMobile', this.state.mobile);\n          } else {\n            swal(\"Sorry!\", \"try again\", \"error\");\n          } // swal(\"Congrats!\", \"Your account created successfully! \\n Please Verify Your Mobile Number!\", \"success\");\n\n        }).catch(error => {\n          console.log(\"error = \", error);\n        });\n      }\n    } else {\n      swal(\"Please enter Mobile Number\", \"\", \"warning\");\n      console.error(\"FORM INVALID - DISPLAY ERROR MESSAGE\");\n    }\n  }\n\n  handleChange(event) {\n    event.preventDefault(); // const mobile = this.refs.mobile.value;\n\n    const datatype = event.target.getAttribute('data-text');\n    const _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value;\n    let formerrors = this.state.formerrors;\n    console.log(\"datatype\", datatype);\n\n    switch (datatype) {\n      case 'clientMobile':\n        formerrors.clientMobile = clientmobileRegex.test(value) ? '' : \"Please enter a valid phone number\";\n        break;\n\n      default:\n        break;\n    }\n\n    this.setState({\n      formerrors,\n      [name]: value\n    });\n  }\n\n  isNumberKey(event) {\n    var charCode = event.which ? event.which : event.keyCode;\n\n    if (charCode > 31 && (charCode < 48 || charCode > 57) && (charCode < 96 || charCode > 105)) {\n      event.preventDefault();\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  render() {\n    const formerrors = this.state.formerrors;\n    return React.createElement(\"form\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 \",\n      id: \"xyz\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-8 col-md-8 col-sm-12 col-xs-12 \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"mt-150 hidden-xs hidden-sm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, \"Please enter your Mobile No\"), React.createElement(\"div\", {\n      className: \"input-group inputBox-main \",\n      id: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-group-addon inputIcon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"images/phone.png\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"input-group-addon inputIcon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(\"select\", {\n      ref: \"countryCode\",\n      className: \"countryCode\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"+91\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, \"+91\"))), React.createElement(\"input\", {\n      type: \"text\",\n      \"data-text\": \"clientMobile\",\n      name: \"mobile\",\n      id: \"mobile\",\n      value: this.state.mobile,\n      ref: \"mobile\",\n      onChange: this.handleChange,\n      onKeyDown: this.isNumberKey.bind(this),\n      min: \"0\",\n      maxLength: \"10\",\n      className: \"form-control \",\n      placeholder: \"Mobile\",\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    })), this.state.formerrors.clientMobile && React.createElement(\"span\", {\n      className: \"text-danger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, formerrors.clientMobile))), React.createElement(\"div\", {\n      className: \"col-lg-4 col-md-4 col-sm-12 col-xs-12 boxLayout1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      alt: \"\",\n      src: \"images/1.png\",\n      className: \"build_img2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    })), React.createElement(\"span\", {\n      className: \"col-lg-12 formImgB\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, \"We charge tenants/buyers brokerage & share upto 50% with the property owners.\")), React.createElement(\"div\", {\n      className: \" col-lg-2 pull-right btnNext\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"Submit\",\n      className: \"btn bg-primary pull-right col-lg-11 \",\n      onClick: this.handleNumber.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, \"Next \\xA0 \\u21D2 \")));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    LoginMobNum: state.LoginMobNum,\n    LoginOtp: state.LoginOtp,\n    WebSignupForm: state.WebSignupForm\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    mobileEntered: (uid, mobile, OTP, mobFoundMsg, fullName) => dispatch({\n      type: \"MOBILE_ENTERED\",\n      uid: uid,\n      mobile: mobile,\n      OTP: OTP,\n      mobFoundMsg: mobFoundMsg,\n      fullName: fullName\n    }) // availableMobile : (availableMobile)=>dispatch({\n    // \t\t\t\t\t\t\t\ttype: \"AVAILABLE_MOBILE\",\n    // \t\t\t\t\t\t\t\tavailableMobile:availableMobile\n    // \t\t\t\t\t\t\t\t})\n\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(LoginMobNum));","map":{"version":3,"sources":["/home/iassureit/react/tgk3t/webapp/field/src/blocks/WebsiteSecurity/LoginMobNum/LoginMobNum.js"],"names":["React","Component","axios","withRouter","connect","swal","formValid","formerrors","console","log","valid","Object","values","forEach","val","length","clientmobileRegex","RegExp","LoginMobNum","constructor","props","state","mobile","clientMobile","handleChange","bind","componentDidMount","defaults","headers","common","localStorage","getItem","handleNumber","event","preventDefault","formValues","mobileNumber","countryCode","refs","value","post","then","response","data","token","setItem","fullName","Authorization","mobileEntered","user_id","otp","message","catch","error","datatype","target","getAttribute","name","test","setState","isNumberKey","charCode","which","keyCode","render","mapStateToProps","LoginOtp","WebSignupForm","mapDispatchToProps","dispatch","uid","OTP","mobFoundMsg","type"],"mappings":"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","sourcesContent":["import React, { Component }     from 'react';\nimport axios \t\t\t\t\tfrom 'axios';\nimport { withRouter } from 'react-router';\nimport { connect } \t\t\t\tfrom 'react-redux';\nimport swal\t\t\t\t\t\tfrom 'sweetalert';\nimport './LoginMobNum.css';\n\nconst formValid = formerrors=>{\n  console.log(\"formerrors\",formerrors);\n  let valid = true;\n  Object.values(formerrors).forEach(val=>{\n  val.length>0 && (valid = false);\n  })\n  return valid;\n  }\n\nconst clientmobileRegex = RegExp(/^[0-9][0-9]{9}$/);\n\nclass LoginMobNum extends Component {\n\n\tconstructor(props){\n\t\t\tsuper(props);\n\t\t\tthis.state = {\n\t\t\t\tmobile : \"\",\n\t\t\t\tformerrors :{\t\t\t\t\n\t\t\t\t\tclientMobile : \"\",\n\t\t\t\t},\n\t\t\t};\n    \t\tthis.handleChange = this.handleChange.bind(this);\n\t\t}\n\n\tcomponentDidMount(){\n      axios.defaults.headers.common['Authorization'] = 'Bearer '+ localStorage.getItem(\"token\");\n  \t}\n\n\t\thandleNumber(event){\n\t\t\t\n\t\t\tevent.preventDefault();\n\t\t\tvar formValues = {\n\t\t\t\tmobileNumber : this.state.mobile,\n\t\t\t\tcountryCode  : this.refs.countryCode.value\n\t\t\t};\n\t\t\tconsole.log(\"LoginMobNum==\",formValues);\n\n\t\t\tif(this.state.mobile!=\"\"){\n\n\t\t\t\tif(formValid(this.state.formerrors)){\n\t\t\t\taxios\n\t\t\t\t\t.post('/api/usersotp/verify_mobile',formValues)\n\t\t\t\t\t.then((response)=>{\n\t\t\t\t\t\tconsole.log(\"response in mobile = \",response.data);\n        \t\t\t\taxios.defaults.headers.common['Authorization'] = 'Bearer '+response.data.token;\n\t\t\t\t\t\tlocalStorage.setItem('token',response.data.token)\n\t\t\t\t\t\tlocalStorage.setItem('userName',response.data.fullName)\n\n        \t\t\t\tif(axios.defaults.headers.common.Authorization)\n        \t\t\t\t{\n\t\t\t\t\t\t\tthis.props.mobileEntered( \n\t\t\t\t\t\t\t\t\t\t\t\t\tresponse.data.user_id,\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state.mobile,\n\t\t\t\t\t\t\t\t\t\t\t\t\tresponse.data.otp,\n\t\t\t\t\t\t\t\t\t\t\t\t\tresponse.data.message,\n\t\t\t\t\t\t\t\t\t\t\t\t\tresponse.data.fullName,\n\t\t\t\t\t\t\t\t\t\t\t\t\tresponse.data.token\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t// this.props.availableMobile(this.state.mobile);\n\t\t\t\t\t\t\t\tlocalStorage.setItem('availableMobile',this.state.mobile)\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t swal(\"Sorry!\", \"try again\", \"error\");\n\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// swal(\"Congrats!\", \"Your account created successfully! \\n Please Verify Your Mobile Number!\", \"success\");\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error)=>{\n\t\t\t\t                        console.log(\"error = \",error);\n\t\t\t\t                       \n\t\t\t\t                    });\n\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tswal(\"Please enter Mobile Number\", \"\", \"warning\");\n\t              console.error(\"FORM INVALID - DISPLAY ERROR MESSAGE\");\n\t\t\t\t}\n\t\t\t\n\t}\n\n\t\thandleChange(event){\n\t\t\tevent.preventDefault();\n\n\t\t\t// const mobile = this.refs.mobile.value;\n\n\t\t\tconst datatype = event.target.getAttribute('data-text');\n\t\t    const {name,value} = event.target;\n\t\t    let formerrors = this.state.formerrors;\n\t\t\tconsole.log(\"datatype\",datatype);\n\t\t\tswitch (datatype){\n\t\t\t\tcase 'clientMobile' : \n\t\t\t       formerrors.clientMobile = clientmobileRegex.test(value)? '' : \"Please enter a valid phone number\";\n\t\t\t       break;\n\n\t\t\t\tdefault :\n\t\t\t\tbreak;\n\n\t\t\t}\n\t\t\tthis.setState({ formerrors,\n\t\t\t\t[name]:value\n\t\t\t} );\n\t\t}\n\n\t\tisNumberKey(event)\n\t   {\n\n\t   var charCode = (event.which) ? event.which : event.keyCode\n\n\t   if (charCode > 31 && (charCode < 48 || charCode > 57)  && (charCode < 96 || charCode > 105))\n\t   {\n\t    event.preventDefault();\n\t      return false;\n\t    }\n\t    else{\n\t      return true;\n\t    }\n\t  }\n\n\n\trender() {\n\n   \t const {formerrors} = this.state;\n\t\treturn (\n\t\t\t\t<form className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 \" id=\"xyz\">\n\t\t\t\t\t\t  \t<div className=\"col-lg-8 col-md-8 col-sm-12 col-xs-12 \">\n\t\t\t\t\t\t  \t\t<div className=\"mt-150 hidden-xs hidden-sm\"></div>\t\n\t\t\t\t\t\t\t  <div className=\"form-group\">\n\t\t\t\t\t\t\t    <label htmlFor=\"\">Please enter your Mobile No</label>\n\t\t\t\t\t\t\t    <div className=\"input-group inputBox-main \" id=\"\">\n\t\t\t\t\t\t\t    \t<div className=\"input-group-addon inputIcon\">\n\t\t\t\t\t\t\t      \t\t<img src=\"images/phone.png\" />\n\t\t\t\t                    </div>\n\t\t\t\t\t\t\t      \t<div className=\"input-group-addon inputIcon\">\n\t\t\t\t\t\t\t      \t\t<select ref=\"countryCode\" className=\"countryCode\">\n\t\t\t\t\t\t\t      \t\t\t<option value=\"+91\">+91</option>\n\t\t\t\t\t\t\t      \t\t</select>\n\t\t\t\t                    </div>\n\t\t\t\t                    \n\t\t\t\t\t\t\t    \t{/*<input  data-text=\"clientMobile\" type=\"number\" name=\"mobile\" className=\"form-control\" ref=\"mobile\"  id=\"\" placeholder=\"Mobile Number\" onChange={this.handleChange}  />\n\t\t\t\t\t\t\t  \t\t{this.state.formerrors.clientMobile &&(\n\t\t\t\t\t\t\t\t\t\t<span className=\"text-danger\">{this.state.formerrors.clientMobile}</span>\n\t\t\t\t\t\t\t\t\t)}*/}\n\t\t\t\t\t\t\t\t\t  <input type=\"text\" data-text=\"clientMobile\" name=\"mobile\" id=\"mobile\" value={this.state.mobile}  ref=\"mobile\" onChange={this.handleChange} onKeyDown={this.isNumberKey.bind(this)} min=\"0\" maxLength=\"10\" className=\"form-control \" placeholder=\"Mobile\" required />\n\t\t\t\t                        \n\t\t\t\t\t\t\t  \t</div>\n\t\t\t\t\t\t\t  \t{this.state.formerrors.clientMobile &&(\n\t\t\t\t                          <span className=\"text-danger\">{formerrors.clientMobile}</span> \n\t\t\t\t                        )}\n\t\t\t\t\t\t\t  </div>\n\t\t\t\t\t\t    </div>\n\t\t\t\t\t\t <div className=\"col-lg-4 col-md-4 col-sm-12 col-xs-12 boxLayout1\">\n\t\t\t\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 row\">\n\t\t\t\t\t\t\t\t\t<img alt=\"\"  src=\"images/1.png\" className=\"build_img2\"/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<span className=\"col-lg-12 formImgB\">\n\t\t\t\t\t\t\t\t\tWe charge tenants/buyers brokerage & share upto 50% with the property owners.\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t </div>\n\t\t\t\t\t\t  \t<div className=\" col-lg-2 pull-right btnNext\">\n\t\t\t\t\t\t\t    <button type=\"Submit\" className=\"btn bg-primary pull-right col-lg-11 \" onClick={(this.handleNumber.bind(this))} >Next &nbsp; &rArr; </button>\n\t\t\t\t\t\t  \t</div>\n\t\t\t\t</form>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state)=>{\n\treturn {\n\t\tLoginMobNum \t: state.LoginMobNum,\n\t\tLoginOtp \t\t: state.LoginOtp,\n\t\tWebSignupForm \t: state.WebSignupForm,\n\t}\n};\n\nconst mapDispatchToProps = (dispatch)=>{\n\treturn {\n\t\tmobileEntered \t: (uid, mobile, OTP, mobFoundMsg,fullName)=> dispatch({\n\t\t\t\t\t\t\t\t\ttype: \"MOBILE_ENTERED\",\n\t\t\t\t\t\t\t\t\tuid: uid, \n\t\t\t\t\t\t\t\t\tmobile: mobile, \n\t\t\t\t\t\t\t\t\tOTP: OTP, \t\n\t\t\t\t\t\t\t\t\tmobFoundMsg: mobFoundMsg,\n\t\t\t\t\t\t\t\t\tfullName: fullName\n\t\t\t\t\t\t\t\t}),\n\t\t// availableMobile : (availableMobile)=>dispatch({\n\t\t// \t\t\t\t\t\t\t\ttype: \"AVAILABLE_MOBILE\",\n\t\t// \t\t\t\t\t\t\t\tavailableMobile:availableMobile\n\t\t// \t\t\t\t\t\t\t\t})\n\t}\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(LoginMobNum));\n"]},"metadata":{},"sourceType":"module"}