{"ast":null,"code":"var _jsxFileName = \"/home/iassureit/react/tgk3t/webapp/field/src/blocks/PostProperty/ImageUpload/ImageUpload.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport swal from 'sweetalert';\nimport S3FileUpload from 'react-s3';\nimport Loader from 'react-loader-spinner';\nimport $ from 'jquery';\nimport './ImageUpload.css';\nvar imgArray = [];\nvar imgTitleArray = [];\nvar imgTitleArrayWS = [];\n\nclass ImageUpload extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      \"config\": '',\n      \"imageArray\": [],\n      \"imageTitleArray\": [],\n      \"videoArray\": [],\n      \"S3url\": [],\n      \"imgArrayWSaws\": [],\n      \"singleVideo\": \"\",\n      \"updateOperation\": false,\n      isLoading: true,\n      originalValues: '',\n      tempLoader: false,\n      type: true,\n      transactionType: \"Sell\"\n    };\n    console.log(\"this.props.updateStatus\", this.props.updateStatus);\n    console.log(\"this.props.property_id\", this.props.property_id);\n\n    if (this.props.updateStatus === true) {\n      axios.get('/api/properties/' + this.props.property_id).then(response => {\n        console.log(\"response in img= \", response);\n        this.setState({\n          originalValues: response.data.gallery,\n          imgArrayWSaws: response.data.gallery.Images,\n          singleVideo: response.data.gallery.video ? response.data.gallery.video : \"\",\n          updateOperation: true\n        }, () => {});\n      }).catch(error => {\n        console.log(\"error = \", error);\n\n        if (error.message === \"Request failed with status code 401\") {\n          swal(\"Your session is expired! Please login again.\", \"\", \"error\");\n          localStorage.removeItem(\"uid\");\n          localStorage.removeItem(\"token\");\n          this.props.history.push(\"/\");\n        }\n      });\n    }\n  }\n\n  componentDidMount() {\n    axios.defaults.headers.common['Authorization'] = 'Bearer ' + localStorage.getItem(\"token\");\n    axios.get('/api/projectSettings/get/one/S3').then(response => {\n      console.log(\"s3_response.............\", response);\n      const config = {\n        bucketName: response.data.bucket,\n        dirName: 'propertiesImages',\n        region: response.data.region,\n        accessKeyId: response.data.key,\n        secretAccessKey: response.data.secret // ACL \t\t\t  : 'public-read',\n\n      };\n      this.setState({\n        config: config\n      });\n    }).catch(error => {\n      console.log(\"error = \", error);\n\n      if (error.message === \"Request failed with status code 401\") {\n        swal(\"Your session is expired! Please login again.\", \"\", \"error\");\n        localStorage.removeItem(\"uid\");\n        localStorage.removeItem(\"token\");\n        this.props.history.push(\"/\");\n      }\n    });\n  }\n\n  uploadPropertyImage(event) {\n    event.preventDefault();\n    let self = this;\n\n    if (event.currentTarget.files && event.currentTarget.files[0]) {\n      var file = event.currentTarget.files[0]; // console.log(\"file\",file);\n\n      if (file) {\n        var fileName = file.name;\n        console.log(\"fileName--------------->\", fileName);\n        console.log(\"config--------------->\", this.state.config);\n        var ext = fileName.split('.').pop();\n\n        if (ext == \"jpg\" || ext == \"png\" || ext == \"jpeg\" || ext == \"JPG\" || ext == \"PNG\" || ext == \"JPEG\") {\n          if (file) {\n            S3FileUpload.uploadFile(file, this.state.config).then(Data => {\n              console.log(\"Data = \", Data);\n              var obj1 = {\n                imgPath: Data.location\n              };\n              var imgArrayWSaws = this.state.imgArrayWSaws;\n              imgArrayWSaws.push(obj1);\n              this.setState({\n                // workspaceImages : imgArrayWSaws\n                imgArrayWSaws: imgArrayWSaws\n              });\n            }).catch(error => {\n              console.log(\"error = \", error);\n\n              if (error.message === \"Request failed with status code 401\") {\n                swal(\"Your session is expired! Please login again.\", \"\", \"error\");\n                localStorage.removeItem(\"uid\");\n                localStorage.removeItem(\"token\");\n                this.props.history.push(\"/\");\n              }\n            });\n            var objTitle = {\n              fileInfo: file\n            }; // var imgTitleArrayWS = [];\n\n            imgTitleArrayWS.push(objTitle);\n            this.setState({\n              imageTitleArrayWS: imgTitleArrayWS\n            });\n            console.log('imgArrayWS = ', imgTitleArrayWS);\n          } else {\n            swal(\"File not uploaded\", \"Something went wrong\", \"error\");\n          }\n        } else {\n          swal(\"Please upload file\", \"Only Upload  images format (jpg,png,jpeg)\", \"warning\");\n        }\n      }\n    }\n  }\n\n  deleteimageWS(e) {\n    e.preventDefault();\n    var index = e.target.getAttribute('id');\n    var filePath = e.target.getAttribute('data-id');\n    var data = filePath.split(\"/\");\n    var imageName = data[4];\n    console.log(\"imageName==\", imageName);\n\n    if (index) {\n      swal({\n        title: \"Are you sure you want to delete this image?\",\n        text: \"Once deleted, you will not be able to recover this.\",\n        icon: \"warning\",\n        buttons: true,\n        dangerMode: true\n      }).then(willDelete => {\n        if (willDelete) {\n          var array = this.state.imgArrayWSaws; // make a separate copy of the array\n\n          array.splice(index, 1);\n          swal(\"Image deleted successfully\");\n          this.setState({\n            imgArrayWSaws: array\n          });\n        } else {\n          swal(\"Your image is safe!\");\n        }\n      });\n    }\n  }\n\n  uploadSingleVideo(event) {\n    event.preventDefault();\n    var index = event.target.getAttribute('id');\n    console.log(\"index\", index);\n    this.setState({\n      tempLoader: true\n    });\n    console.log(\"index--------------->\", index);\n    let self = this;\n\n    if (event.currentTarget.files && event.currentTarget.files[0]) {\n      var file = event.currentTarget.files[0]; // console.log(\"file\",file);\n\n      if (file) {\n        var fileName = file.name;\n        console.log(\"fileName--------------->\", fileName);\n        console.log(\"config--------------->\", this.state.config);\n        var ext = fileName.split('.').pop();\n\n        if (ext == \"mp4\" || ext == \"avi\" || ext == \"ogv\") {\n          if (file) {\n            if (this.state.singleVideo == \"\") {\n              S3FileUpload.uploadFile(file, this.state.config).then(Data => {\n                console.log(\"Data = \", Data);\n                this.setState({\n                  singleVideo: Data.location,\n                  isLoading: false\n                }, () => {\n                  // $(\".tempL\").remove();\n                  this.setState({\n                    tempLoader: false\n                  }); // console.log(\"inside singleVideo\",this.state.singleVideo);\n                }); // console.log(\"outside singleVideo\",this.state.singleVideo);\n\n                this.deleteSingleLogo(index);\n              }).catch(error => {\n                console.log(\"error = \", error);\n\n                if (error.message === \"Request failed with status code 401\") {\n                  swal(\"Your session is expired! Please login again.\", \"\", \"error\");\n                  localStorage.removeItem(\"uid\");\n                  localStorage.removeItem(\"token\");\n                  this.props.history.push(\"/\");\n                }\n              });\n            } else {\n              swal({\n                title: \"Are you sure you want to delete this video?\",\n                text: \"Once replaced, you will not be able to recover this.\",\n                icon: \"warning\",\n                buttons: true,\n                dangerMode: true\n              }).then(success => {\n                if (success) {\n                  S3FileUpload.uploadFile(file, this.state.config).then(Data => {\n                    console.log(\"Data = \", Data);\n                    this.setState({\n                      singleVideo: Data.location\n                    }, () => {\n                      console.log(\"singleVideo\", this.state.singleVideo);\n                    });\n                    this.deleteSingleLogo(index);\n                  }).catch(error => {\n                    console.log(\"error = \", error);\n\n                    if (error.message === \"Request failed with status code 401\") {\n                      swal(\"Your session is expired! Please login again.\", \"\", \"error\");\n                      localStorage.removeItem(\"uid\");\n                      localStorage.removeItem(\"token\");\n                      this.props.history.push(\"/\");\n                    }\n                  });\n                } else {\n                  swal(\"Your information is safe!\");\n                }\n              });\n            }\n          } else {\n            swal(\"File not uploaded\", \"Something went wrong\", \"error\");\n          }\n        } else {\n          this.setState({\n            tempLoader: false\n          });\n          swal(\"Format is incorrect\", \"Only Upload video format (mp4,avi,ogv)\", \"warning\");\n        }\n      }\n    }\n  }\n\n  deleteSingleLogo(index) {\n    var data = index.split(\"/\");\n    var videoName = data[4];\n    console.log(\"index1--------------->\", videoName);\n\n    if (index) {\n      S3FileUpload.deleteFile(videoName, this.state.config).then(response => {\n        console.log(\"Deletedddd...\", response);\n        swal(\"Image deleted successfully\");\n      }).catch(error => {\n        console.log(\"error = \", error);\n\n        if (error.message === \"Request failed with status code 401\") {\n          swal(\"Your session is expired! Please login again.\", \"\", \"error\");\n          localStorage.removeItem(\"uid\");\n          localStorage.removeItem(\"token\");\n          this.props.history.push(\"/\");\n        }\n      });\n    }\n  }\n\n  deleteSingleVideoDirect(event) {\n    event.preventDefault();\n    swal({\n      title: \"Are you sure?\",\n      text: \"Once deleted, you will not be able to recover this Video!\",\n      icon: \"warning\",\n      buttons: true,\n      dangerMode: true\n    }).then(success => {\n      if (success) {\n        swal(\"Your video is deleted!\");\n        this.setState({\n          singleVideo: \"\"\n        });\n      } else {\n        swal(\"Your video is safe!\");\n      }\n    });\n  }\n\n  uploadData(event) {\n    if (this.state.updateOperation === true) {\n      // console.log(\"update fun\");\n      var ov = this.state.originalValues;\n      console.log(\"diff data\");\n      const formValues = {\n        \"property_id\": localStorage.getItem(\"propertyId\"),\n        \"uid\": localStorage.getItem(\"uid\"),\n        \"propertyImages\": this.state.imgArrayWSaws,\n        \"video\": this.state.singleVideo,\n        \"status\": \"New\"\n      }; // console.log(\"formValues = \",formValues);\n\n      axios.patch('/api/properties/patch/gallery', formValues).then(res => {\n        console.log(\"response = \", res);\n\n        if (res.status === 200) {\n          console.log(\"res = \", res);\n          this.props.redirectToCongratsPage(localStorage.getItem(\"uid\"), localStorage.getItem(\"propertyId\"));\n        }\n      }).catch(error => {\n        console.log(\"error = \", error);\n\n        if (error.message === \"Request failed with status code 401\") {\n          swal(\"Your session is expired! Please login again.\", \"\", \"error\");\n          localStorage.removeItem(\"uid\");\n          localStorage.removeItem(\"token\");\n          this.props.history.push(\"/\");\n        }\n      }); // }\n    } else {\n      // console.log(\"sub fun\");\n      const formValues = {\n        \"property_id\": localStorage.getItem(\"propertyId\"),\n        \"uid\": localStorage.getItem(\"uid\"),\n        \"propertyImages\": this.state.imgArrayWSaws,\n        \"video\": this.state.singleVideo,\n        \"status\": \"New\"\n      };\n      console.log(\"formValues = \", formValues);\n      axios.patch('/api/properties/patch/gallery', formValues).then(res => {\n        console.log(\"response = \", res);\n\n        if (res.status === 200) {\n          console.log(\"res = \", res);\n          this.props.redirectToCongratsPage(localStorage.getItem(\"uid\"), localStorage.getItem(\"propertyId\"));\n        }\n      }).catch(error => {\n        console.log(\"error = \", error);\n\n        if (error.message === \"Request failed with status code 401\") {\n          swal(\"Your session is expired! Please login again.\", \"\", \"error\");\n          localStorage.removeItem(\"uid\");\n          localStorage.removeItem(\"token\");\n          this.props.history.push(\"/\");\n        }\n      });\n    }\n  }\n\n  backToAvailability() {\n    console.log(\"localStorage.getItem(propertyId)\", localStorage.getItem(\"propertyId\"));\n    this.props.backToAvailability(localStorage.getItem(\"uid\"), localStorage.getItem(\"propertyId\"));\n  }\n\n  handleToggle(event) {\n    if (this.state.type === true) {\n      this.setState({\n        type: false,\n        transactionType: \"Rent\"\n      });\n    } else {\n      this.setState({\n        type: true,\n        transactionType: \"Sell\"\n      });\n    }\n  }\n\n  render() {\n    console.log(\"transitionType=>\", this.state.transitionType);\n    console.log(\"type=>\", this.state.type);\n    return React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 449\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-10  col-lg-offset-1 col-md-12 col-sm-12 col-xs-12 backGround\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 450\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 contentHolder autoHeight\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 451\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 compForm compinfotp noPad\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 452\n      },\n      __self: this\n    }, this.state.imgArrayWSaws == null ? null : this.state.imgArrayWSaws.map((data, index) => {\n      return React.createElement(\"div\", {\n        className: \"col-lg-4 col-md-4 col-sm-12 col-xs-12\",\n        style: {\n          paddingTop: \"16px\"\n        },\n        key: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 458\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 row \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 459\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        className: \"h5Title col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 460\n        },\n        __self: this\n      }, \"Property Image \", index + 1)), React.createElement(\"div\", {\n        className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 462\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"\",\n        key: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 463\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        id: index,\n        className: \"pull-right custFaTimes\",\n        title: \"Delete Image\",\n        \"data-id\": data.imgPath,\n        onClick: this.deleteimageWS.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 464\n        },\n        __self: this\n      }, \"X\"), React.createElement(\"img\", {\n        className: \"img-responsive imgHeight\",\n        src: data.imgPath,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 465\n        },\n        __self: this\n      }))));\n    }), this.state.imgArrayWSaws == null ? React.createElement(\"div\", {\n      className: \"col-lg-4 col-md-4 col-sm-12 col-xs-12 row padTopC\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 473\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12  col-md-12 col-sm-12 col-xs-12 row \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 474\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      className: \"h5Title col-lg-12 col-md-12 col-sm-12 col-xs-12 \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 475\n      },\n      __self: this\n    }, \"Please Upload Images:\")), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 477\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"clr_k \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 478\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-offset-1 col-lg-2 col-md-12 col-sm-12 col-xs-12 hand_icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 479\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"/images/Upload-Icon.png\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 480\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center below_text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 482\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      className: \"text_k11\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 483\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"under_ln\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 484\n      },\n      __self: this\n    }, \"Choose Property Images\"), React.createElement(\"span\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 485\n      },\n      __self: this\n    }, \"Accepted formats are .jpg,.gif,.bmp,& .png\")), React.createElement(\"input\", {\n      type: \"file\",\n      title: \"Click to attach file\",\n      name: \"userPic\",\n      onChange: this.uploadPropertyImage.bind(this),\n      ref: \"propertyImg\",\n      className: \"form-control click_input\",\n      id: \"upload-file2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 487\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 imgdetails\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 490\n      },\n      __self: this\n    }, \"(max size: 1 Mb, Format: JPEG, jpg, png)\")) : React.createElement(\"div\", {\n      className: \"col-lg-4 col-md-4 col-sm-12 col-xs-12 row padTopC\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 493\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12  col-md-12 col-sm-12 col-xs-12 row \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 494\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      className: \"h5Title col-lg-12 col-md-12 col-sm-12 col-xs-12 \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 495\n      },\n      __self: this\n    }, \"Please Upload Images:\")), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 497\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"clr_k\",\n      style: {\n        height: \"140px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 498\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-offset-1 col-lg-2 col-md-12 col-sm-12 col-xs-12 hand_icon1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 499\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"/images/Upload-Icon.png\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 500\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-lg-offset-1 col-lg-10 col-md-10 col-sm-10 col-xs-10 below_text noPad\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 502\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      className: \"text_k11\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 503\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"text-center under_ln col-lg-12 noPad\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 504\n      },\n      __self: this\n    }, \"Choose Image\"), React.createElement(\"div\", {\n      className: \"format1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 505\n      },\n      __self: this\n    }, \"Accepted formats: .jpg,.gif,.bmp,& .png \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 505\n      },\n      __self: this\n    }), \"Max size: 4 MB\")), React.createElement(\"input\", {\n      type: \"file\",\n      title: \"Click to attach file\",\n      name: \"userPic\",\n      onChange: this.uploadPropertyImage.bind(this),\n      ref: \"propertyImg\",\n      className: \"form-control click_input\",\n      id: \"upload-file2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 507\n      },\n      __self: this\n    }))))), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 compForm compinfotp marBtm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 516\n      },\n      __self: this\n    }, this.state.singleVideo === \"\" ? React.createElement(\"div\", {\n      className: \"col-lg-4 col-md-4 col-sm-12 col-xs-12 row padTopC\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 518\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 519\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      className: \"h5Title col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 520\n      },\n      __self: this\n    }, \"Please Upload Video:\")), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 522\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"clr_k \",\n      style: {\n        height: \"140px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 523\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-offset-1 col-lg-2 col-md-12 col-sm-12 col-xs-12 hand_icon2 move_hand_icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 524\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"/images/Upload-Icon.png\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 525\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-lg-offset-1 col-lg-10 col-md-10 col-sm-10 col-xs-10 below_text noPad\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 527\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      className: \"text_k11\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 528\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"under_ln col-lg-12 noPad\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 529\n      },\n      __self: this\n    }, \"Choose Video\"), React.createElement(\"div\", {\n      className: \"format2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 530\n      },\n      __self: this\n    }, \"Accepted formats: .mp4,.avi,.ogv \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 530\n      },\n      __self: this\n    }), \"Max size: 20 MB\")), React.createElement(\"input\", {\n      type: \"file\",\n      title: \"Click to attach file\",\n      multiple: true,\n      name: \"userPic\",\n      onChange: this.uploadSingleVideo.bind(this),\n      ref: \"propertyVideo\",\n      className: \"form-control click_input\",\n      id: this.state.singleVideo,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 533\n      },\n      __self: this\n    })))) : null, this.state.tempLoader === true ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 542\n      },\n      __self: this\n    }, React.createElement(Loader, {\n      type: \"Oval\",\n      color: \"#F5AD3E\",\n      height: \"100\",\n      width: \"100\",\n      id: \"tempL\",\n      className: \"tempL\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 543\n      },\n      __self: this\n    })) : null, this.state.singleVideo === \"\" ? null : React.createElement(\"div\", {\n      className: \"col-lg-4 col-md-4 col-sm-12 col-xs-12 padTopC\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 565\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 566\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      className: \"h5Title col-lg-12 col-md-12 col-sm-12 col-xs-12 row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 567\n      },\n      __self: this\n    }, \"Please Upload Video:\")), React.createElement(\"div\", {\n      className: \"containerC\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 569\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      id: \"logoImage\",\n      className: \"pull-right custFaTimes1\",\n      title: \"Delete Video\",\n      onClick: this.deleteSingleVideoDirect.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 570\n      },\n      __self: this\n    }, \"X\"), console.log(\"this.state.singleVideo -----------------\", this.state.singleVideo), React.createElement(\"video\", {\n      width: \"100%\",\n      height: \"100%\",\n      controls: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 574\n      },\n      __self: this\n    }, console.log(\"here video link of map\", this.state.singleVideo), React.createElement(\"source\", {\n      src: this.state.singleVideo,\n      type: \"video/mp4\",\n      className: \"col-lg-12 noPad\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 576\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"middleC\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 579\n      },\n      __self: this\n    })))))), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12 mt78\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 590\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group col-lg-3\\tcol-md-3 col-sm-6 col-xs-6 pull-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 591\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-danger col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      onClick: this.backToAvailability.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 592\n      },\n      __self: this\n    }, \" \\u21D0 \\xA0 \\xA0 Back \")), React.createElement(\"div\", {\n      className: \"form-group col-lg-3\\tcol-md-3 col-sm-6 col-xs-6 pull-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 594\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn nxt_btn col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      onClick: this.uploadData.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 595\n      },\n      __self: this\n    }, \"Finish \\xA0 \\xA0 \\u21D2\"))), React.createElement(\"div\", {\n      className: \"container5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 599\n      },\n      __self: this\n    }, this.state.type === true ? React.createElement(\"div\", {\n      className: \"switch\",\n      onChange: this.handleToggle.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 602\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"radio\",\n      className: \"switch-input\",\n      name: \"view\",\n      value: \"sell\",\n      id: \"week\",\n      checked: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 603\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      for: \"week\",\n      className: \"switch-label switch-label-off\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 604\n      },\n      __self: this\n    }, \"SELL\"), React.createElement(\"input\", {\n      type: \"radio\",\n      className: \"switch-input\",\n      name: \"view\",\n      value: \"rent\",\n      id: \"month\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 605\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      for: \"month\",\n      className: \"switch-label switch-label-on\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 606\n      },\n      __self: this\n    }, \"RENT\"), React.createElement(\"span\", {\n      className: \"switch-selection\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 607\n      },\n      __self: this\n    })) : React.createElement(\"div\", {\n      className: \"switch\",\n      onChange: this.handleToggle.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 612\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"radio\",\n      className: \"switch-input\",\n      name: \"view\",\n      value: \"sell\",\n      id: \"week\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 613\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      for: \"week\",\n      className: \"switch-label switch-label-off\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 614\n      },\n      __self: this\n    }, \"SELL\"), React.createElement(\"input\", {\n      type: \"radio\",\n      className: \"switch-input\",\n      name: \"view\",\n      value: \"rent\",\n      id: \"month\",\n      checked: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 615\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      for: \"month\",\n      className: \"switch-label switch-label-on\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 616\n      },\n      __self: this\n    }, \"RENT\"), React.createElement(\"span\", {\n      className: \"switch-selection\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 617\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    property_id: state.property_id,\n    uid: state.uid,\n    updateStatus: state.updateStatus\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    backToAvailability: (uid, propertyId) => dispatch({\n      type: \"BACK_TO_AVAILABILITY\",\n      uid: uid,\n      property_id: propertyId\n    }),\n    redirectToCongratsPage: (uid, propertyId) => dispatch({\n      type: \"REDIRECT_TO_CONGRATS_PAGE\",\n      uid: uid,\n      property_id: propertyId\n    })\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(ImageUpload));","map":{"version":3,"sources":["/home/iassureit/react/tgk3t/webapp/field/src/blocks/PostProperty/ImageUpload/ImageUpload.js"],"names":["React","Component","axios","connect","withRouter","swal","S3FileUpload","Loader","$","imgArray","imgTitleArray","imgTitleArrayWS","ImageUpload","constructor","props","state","isLoading","originalValues","tempLoader","type","transactionType","console","log","updateStatus","property_id","get","then","response","setState","data","gallery","imgArrayWSaws","Images","singleVideo","video","updateOperation","catch","error","message","localStorage","removeItem","history","push","componentDidMount","defaults","headers","common","getItem","config","bucketName","bucket","dirName","region","accessKeyId","key","secretAccessKey","secret","uploadPropertyImage","event","preventDefault","self","currentTarget","files","file","fileName","name","ext","split","pop","uploadFile","Data","obj1","imgPath","location","objTitle","fileInfo","imageTitleArrayWS","deleteimageWS","e","index","target","getAttribute","filePath","imageName","title","text","icon","buttons","dangerMode","willDelete","array","splice","uploadSingleVideo","deleteSingleLogo","success","videoName","deleteFile","deleteSingleVideoDirect","uploadData","ov","formValues","patch","res","status","redirectToCongratsPage","backToAvailability","handleToggle","render","transitionType","map","paddingTop","bind","height","mapStateToProps","uid","mapDispatchToProps","dispatch","propertyId"],"mappings":"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","sourcesContent":["import React , { Component }\tfrom 'react';\nimport axios \t\t\t\t\tfrom 'axios';\nimport { connect } \t\t\t\tfrom 'react-redux';\nimport { withRouter}            from 'react-router-dom';\nimport swal \t\t\t\t\tfrom 'sweetalert';\nimport S3FileUpload \t\t\tfrom 'react-s3';\nimport Loader \t\t\t\t\tfrom 'react-loader-spinner'\nimport $ \t\t\t\t\t\tfrom 'jquery';\nimport './ImageUpload.css';\n\nvar imgArray = [];\nvar imgTitleArray = [];\n\n var imgTitleArrayWS = [];\n\n class ImageUpload extends Component {\n\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\t\"config\"\t\t\t: '',\n\t\t\t\"imageArray\"  \t\t: [],\n\t\t\t\"imageTitleArray\" \t: [],\n\t\t\t\"videoArray\" \t\t: [],\n\t\t\t\"S3url\" \t        : [],\n\t\t\t\"imgArrayWSaws\" \t: [],\n\t\t\t\"singleVideo\" \t\t: \"\",\n\t\t\t\"updateOperation\"   : false,\n\t\t\tisLoading\t\t\t: true,\n\t\t\toriginalValues      : '',\n\t\t\ttempLoader \t\t\t: false,\n      type : true,\n      transactionType:\"Sell\"\n\n\n\t\t}\n\n\t\t  console.log(\"this.props.updateStatus\",this.props.updateStatus);\n\t\t\tconsole.log(\"this.props.property_id\",this.props.property_id);\n\t\t\tif(this.props.updateStatus === true){\n\n\t        \taxios\n\t\t\t\t\t.get('/api/properties/'+this.props.property_id)\n\t\t\t\t\t.then( (response) =>{\n\t\t\t\t\t\tconsole.log(\"response in img= \",response);\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\toriginalValues      : response.data.gallery,\n\t\t\t\t\t\t\t\timgArrayWSaws \t\t: response.data.gallery.Images,\n\t\t\t\t\t\t\t\tsingleVideo \t    : response.data.gallery.video ? response.data.gallery.video : \"\" ,\n\t\t\t\t\t\t\t\tupdateOperation     : true,\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t},()=>{\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error)=>{\n                        console.log(\"error = \",error);\n                        if(error.message === \"Request failed with status code 401\")\n                        {\n                             swal(\"Your session is expired! Please login again.\",\"\", \"error\");\nlocalStorage.removeItem(\"uid\");\nlocalStorage.removeItem(\"token\");\n                             this.props.history.push(\"/\");\n                        }\n                    });\n\n        \t}\n\n\t}\n\t\n\tcomponentDidMount(){\n\n      axios.defaults.headers.common['Authorization'] = 'Bearer '+ localStorage.getItem(\"token\");\n\n    axios\n      .get('/api/projectSettings/get/one/S3')\n      .then((response)=>{\n        console.log(\"s3_response.............\",response);\n        const config = {\n                          bucketName      : response.data.bucket,\n                          dirName         : 'propertiesImages',\n                          region          : response.data.region,\n                          accessKeyId     : response.data.key,\n                          secretAccessKey : response.data.secret,\n\t\t\t\t\t\t  // ACL \t\t\t  : 'public-read',\n\n                       }\n        this.setState({\n          config : config\n        })\n      })\n     .catch((error)=>{\n                        console.log(\"error = \",error);\n                        if(error.message === \"Request failed with status code 401\")\n                        {\n                             swal(\"Your session is expired! Please login again.\",\"\", \"error\");\nlocalStorage.removeItem(\"uid\");\nlocalStorage.removeItem(\"token\");\n                             this.props.history.push(\"/\");\n                        }\n        });\n\n  }\n\n  uploadPropertyImage(event){\n   event.preventDefault();\n   let self = this;\n   if (event.currentTarget.files && event.currentTarget.files[0]) {\n   var file = event.currentTarget.files[0];\n   // console.log(\"file\",file);\n      if (file) {\n      var fileName = file.name; \n      console.log(\"fileName--------------->\",fileName);\n      console.log(\"config--------------->\",this.state.config);\n        var ext = fileName.split('.').pop(); \n        if(ext==\"jpg\" || ext==\"png\" || ext==\"jpeg\" || ext==\"JPG\" || ext==\"PNG\" || ext==\"JPEG\"){  \n          if (file) {\n            S3FileUpload\n              .uploadFile(file,this.state.config)\n              .then((Data)=>{\n                console.log(\"Data = \",Data);\n                  var obj1={\n                    imgPath : Data.location,\n                  }\n                  var imgArrayWSaws = this.state.imgArrayWSaws;\n                  imgArrayWSaws.push(obj1);\n                  this.setState({\n                    // workspaceImages : imgArrayWSaws\n                    imgArrayWSaws : imgArrayWSaws\n                  })\n              })\n              .catch((error)=>{\n                        console.log(\"error = \",error);\n                        if(error.message === \"Request failed with status code 401\")\n                        {\n                             swal(\"Your session is expired! Please login again.\",\"\", \"error\");\nlocalStorage.removeItem(\"uid\");\nlocalStorage.removeItem(\"token\");\n                             this.props.history.push(\"/\");\n                        }\n                });\n\n            var objTitle={   \n              fileInfo :file\n            }\n            // var imgTitleArrayWS = [];\n            imgTitleArrayWS.push(objTitle);\n            this.setState({\n              imageTitleArrayWS : imgTitleArrayWS\n            })\n             console.log('imgArrayWS = ',imgTitleArrayWS);\n\n\n          }else{          \n            swal(\"File not uploaded\",\"Something went wrong\",\"error\");  \n          }\n        }else{\n          swal(\"Please upload file\",\"Only Upload  images format (jpg,png,jpeg)\",\"warning\");   \n        }\n      }\n    }\n  }\n\n  deleteimageWS(e){\n    e.preventDefault();\n    var index = e.target.getAttribute('id');\n    var filePath = e.target.getAttribute('data-id');\n    var data = filePath.split(\"/\");\n    var imageName = data[4];\n    console.log(\"imageName==\",imageName);\n\n    if(index){\n      swal({\n            title: \"Are you sure you want to delete this image?\",\n            text: \"Once deleted, you will not be able to recover this.\",\n            icon: \"warning\",\n            buttons: true,\n            dangerMode: true,\n          })\n          .then((willDelete) => {\n            if (willDelete) {\n              var array = this.state.imgArrayWSaws; // make a separate copy of the array\n              array.splice(index, 1);\n              swal(\"Image deleted successfully\");\n              this.setState({\n                imgArrayWSaws: array\n              });\n            }else {\n              swal(\"Your image is safe!\");\n            }\n          });\n    }\n  }\n\n\n  uploadSingleVideo(event){\n   event.preventDefault();\n    var index = event.target.getAttribute('id');\n    console.log(\"index\",index);\n   \n    \tthis.setState({\n    \t\ttempLoader : true,\n    \t});\n   \n    console.log(\"index--------------->\",index);\n    let self = this;\n    if (event.currentTarget.files && event.currentTarget.files[0]) {\n      var file = event.currentTarget.files[0];\n      // console.log(\"file\",file);\n      if (file) {\n      var fileName = file.name; \n      console.log(\"fileName--------------->\",fileName);\n      console.log(\"config--------------->\",this.state.config);\n        var ext = fileName.split('.').pop(); \n        if(ext==\"mp4\" || ext==\"avi\" || ext==\"ogv\"){  \n          if (file) {\n            if(this.state.singleVideo==\"\"){\n              S3FileUpload\n                .uploadFile(file,this.state.config)\n                .then((Data)=>{\n                  console.log(\"Data = \",Data);\n                  this.setState({\n                    singleVideo : Data.location,\n                    isLoading\t: false,\n                  },()=>{\n                  \t// $(\".tempL\").remove();\n                  \tthis.setState({\n                  \t\ttempLoader : false\n                  \t})\t\n                  \t// console.log(\"inside singleVideo\",this.state.singleVideo);\n                  })\n                  \t// console.log(\"outside singleVideo\",this.state.singleVideo);\n\n                 \n                  this.deleteSingleLogo(index)\n                })\n               .catch((error)=>{\n                        console.log(\"error = \",error);\n                        if(error.message === \"Request failed with status code 401\")\n                        {\n                             swal(\"Your session is expired! Please login again.\",\"\", \"error\");\nlocalStorage.removeItem(\"uid\");\nlocalStorage.removeItem(\"token\");\n                             this.props.history.push(\"/\");\n                        }\n                    })\n            }else{\n              swal({\n                    title: \"Are you sure you want to delete this video?\",\n                    text: \"Once replaced, you will not be able to recover this.\",\n                    icon: \"warning\",\n                    buttons: true,\n                    dangerMode: true,\n                  })\n                  .then((success) => {\n                      if (success) {\n                        S3FileUpload\n                          .uploadFile(file,this.state.config)\n                          .then((Data)=>{\n                            console.log(\"Data = \",Data);\n                            this.setState({\n                              singleVideo : Data.location\n                            },()=>{console.log(\"singleVideo\",this.state.singleVideo);})\n                            this.deleteSingleLogo(index)\n                          })\n                          .catch((error)=>{\n\t\t                        console.log(\"error = \",error);\n\t\t                        if(error.message === \"Request failed with status code 401\")\n\t\t                        {\n\t\t                             swal(\"Your session is expired! Please login again.\",\"\", \"error\");\n                                localStorage.removeItem(\"uid\");\n                                localStorage.removeItem(\"token\");\n\t\t                             this.props.history.push(\"/\");\n\t\t                        }\n\t\t                    })\n                      } else {\n                      swal(\"Your information is safe!\");\n                    }\n                  });\n            }          \n          }else{          \n            swal(\"File not uploaded\",\"Something went wrong\",\"error\");  \n          }     \n        }else{ \n          this.setState({tempLoader:false})\n          swal(\"Format is incorrect\",\"Only Upload video format (mp4,avi,ogv)\",\"warning\");   \n        }\n      }\n    }\n  }\n\n  deleteSingleLogo(index){\n    var data = index.split(\"/\");\n    var videoName = data[4];\n    console.log(\"index1--------------->\",videoName);\n      if(index){\n        S3FileUpload\n          .deleteFile(videoName,this.state.config)\n          .then((response) =>{ \n            console.log(\"Deletedddd...\",response)\n            swal(\"Image deleted successfully\");\n          })\n         .catch((error)=>{\n                        console.log(\"error = \",error);\n                        if(error.message === \"Request failed with status code 401\")\n                        {\n                             swal(\"Your session is expired! Please login again.\",\"\", \"error\");\n                              localStorage.removeItem(\"uid\");\n                              localStorage.removeItem(\"token\");\n                             this.props.history.push(\"/\");\n                        }\n            })\n      }\n  }\n  \n\n   deleteSingleVideoDirect(event){\n    event.preventDefault();\n    swal({\n          title: \"Are you sure?\",\n          text: \"Once deleted, you will not be able to recover this Video!\",\n          icon: \"warning\",\n          buttons: true,\n          dangerMode: true,\n        })\n        .then((success) => {\n            if (success) {\n              swal(\"Your video is deleted!\");\n              this.setState({\n                singleVideo : \"\"\n              })\n            } else {\n            swal(\"Your video is safe!\");\n          }\n        });\n  }\n\n\n  \n\n\tuploadData(event){\n\t\tif(this.state.updateOperation === true)\n\t\t{\n\t\t\t// console.log(\"update fun\");\n\t\t\t\tvar ov = this.state.originalValues;\n\n\t\t\t\t\tconsole.log(\"diff data\");\n\t\t\t\t\tconst formValues = {\n\n\t\t\t\t\t\t\"property_id\" \t\t: localStorage.getItem(\"propertyId\"),\n\t\t\t\t\t\t\"uid\" \t\t  \t\t: localStorage.getItem(\"uid\"),\n\t\t\t\t\t\t\"propertyImages\"\t: this.state.imgArrayWSaws,\n\t\t\t\t\t\t\"video\"\t\t\t\t: this.state.singleVideo,\n\t\t\t\t\t\t\"status\"\t\t\t: \"New\"\n\n\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\t// console.log(\"formValues = \",formValues);\n\t\t\t\t\t\n\t\t\t\t\t\taxios\n\t\t\t\t\t\t.patch('/api/properties/patch/gallery',formValues)\n\t\t\t\t\t\t.then( (res) =>{\n\t\t\t\t\t\t\tconsole.log(\"response = \", res);\n\t\t\t\t\t\t\tif(res.status === 200){\n\t\t\t\t\t\t\t\tconsole.log(\"res = \", res);\n\t\t\t\t\t\t\t\tthis.props.redirectToCongratsPage(localStorage.getItem(\"uid\"),localStorage.getItem(\"propertyId\"));\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch((error)=>{\n\t                        console.log(\"error = \",error);\n\t                        if(error.message === \"Request failed with status code 401\")\n\t                        {\n\t                             swal(\"Your session is expired! Please login again.\",\"\", \"error\");\nlocalStorage.removeItem(\"uid\");\nlocalStorage.removeItem(\"token\");\n\t                             this.props.history.push(\"/\");\n\t                        }\n\t                    })\n\t\t\t\t// }\n\n\t\t}else{\n\t\t\t// console.log(\"sub fun\");\n\n\t\t\tconst formValues = {\n\n\t\t\t\t\"property_id\" \t\t: localStorage.getItem(\"propertyId\"),\n\t\t\t\t\"uid\" \t\t  \t\t: localStorage.getItem(\"uid\"),\n\t\t\t\t\"propertyImages\"\t: this.state.imgArrayWSaws,\n\t\t\t\t\"video\"\t\t\t\t: this.state.singleVideo,\n\t\t\t\t\"status\"\t\t\t: \"New\"\n\n\t\t\t}\n\t\t\n\t\t\tconsole.log(\"formValues = \",formValues);\n\t\t\t\n\t\t\t\taxios\n\t\t\t\t.patch('/api/properties/patch/gallery',formValues)\n\t\t\t\t.then( (res) =>{\n\t\t\t\t\tconsole.log(\"response = \", res);\n\t\t\t\t\tif(res.status === 200){\n\t\t\t\t\t\tconsole.log(\"res = \", res);\n\t\t\t\t\t\tthis.props.redirectToCongratsPage(localStorage.getItem(\"uid\"),localStorage.getItem(\"propertyId\"));\n\t\t\t\t\t}\n\n\t\t\t\t})\n\t\t\t\t.catch((error)=>{\n                        console.log(\"error = \",error);\n                        if(error.message === \"Request failed with status code 401\")\n                        {\n                             swal(\"Your session is expired! Please login again.\",\"\", \"error\");\nlocalStorage.removeItem(\"uid\");\nlocalStorage.removeItem(\"token\");\n                             this.props.history.push(\"/\");\n                        }\n                    })\n\n\t\t\t}\n\t\t\n\t\t}\t\t\t\t\n\n\tbackToAvailability(){\n\t\tconsole.log(\"localStorage.getItem(propertyId)\",localStorage.getItem(\"propertyId\"));\n\t\tthis.props.backToAvailability(localStorage.getItem(\"uid\"),localStorage.getItem(\"propertyId\"));\n\n\t}\n  handleToggle(event){\n    if (this.state.type===true){\n      this.setState({\n        type: false,\n        transactionType:\"Rent\"\n      })\n    }\n    else{\n      this.setState({\n        type: true,\n        transactionType:\"Sell\"\n\n      })\n    }   \n}\n\t\n\n\trender() {\n    console.log(\"transitionType=>\",this.state.transitionType);\n\t\tconsole.log(\"type=>\",this.state.type);\n\t\treturn (\n\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 \">\n\t\t\t\t<div className=\"col-lg-10  col-lg-offset-1 col-md-12 col-sm-12 col-xs-12 backGround\">\n\t\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 contentHolder autoHeight\">\n                <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 compForm compinfotp noPad\">\n                  {this.state.imgArrayWSaws==null?\n                    null\n                  :\n                    this.state.imgArrayWSaws.map((data,index)=>{\n                      return(\n                              <div className=\"col-lg-4 col-md-4 col-sm-12 col-xs-12\" style={{paddingTop:\"16px\"}} key={index}>\n                                <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 row \" >\n                                  <h5 className=\"h5Title col-lg-12 col-md-12 col-sm-12 col-xs-12\">Property Image {index+1}</h5>\n                                </div> \n                                <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 \">\n                                  <div className=\"\" key={index}>\n                                    <label id={index} className=\"pull-right custFaTimes\" title=\"Delete Image\" data-id={data.imgPath} onClick={this.deleteimageWS.bind(this)}>X</label>\n                                    <img className=\"img-responsive imgHeight\" src={data.imgPath}/>\n                                  </div>\n                                </div>\n                              </div>\n                            )\n                    })\n                  }\n                  {this.state.imgArrayWSaws== null?\n                    <div className=\"col-lg-4 col-md-4 col-sm-12 col-xs-12 row padTopC\">\n                      <div className=\"col-lg-12  col-md-12 col-sm-12 col-xs-12 row \">\n                        <h5 className=\"h5Title col-lg-12 col-md-12 col-sm-12 col-xs-12 \">Please Upload Images:</h5>\n                      </div> \n                      <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 \">\n                        <div className=\"clr_k \">\n                          <div className=\"col-lg-offset-1 col-lg-2 col-md-12 col-sm-12 col-xs-12 hand_icon\">\n                            <img src=\"/images/Upload-Icon.png\"/>\n                          </div>\n                          <div  className= \"col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center below_text\">\n                           <b className=\"text_k11\"></b>\n                           <span className=\"under_ln\">Choose Property Images</span>\n                           <span className=\"\">Accepted formats are .jpg,.gif,.bmp,& .png</span>\n                          </div>      \n                          <input  type=\"file\" title=\"Click to attach file\"  name=\"userPic\" onChange={this.uploadPropertyImage.bind(this)} ref=\"propertyImg\"  className=\"form-control click_input\" id=\"upload-file2\" />\n                        </div> \n                      </div>\n                      <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 imgdetails\">(max size: 1 Mb, Format: JPEG, jpg, png)</div>\n                    </div>\n                  :\n                    <div className=\"col-lg-4 col-md-4 col-sm-12 col-xs-12 row padTopC\">\n                      <div className=\"col-lg-12  col-md-12 col-sm-12 col-xs-12 row \">\n                        <h5 className=\"h5Title col-lg-12 col-md-12 col-sm-12 col-xs-12 \">Please Upload Images:</h5>\n                      </div> \n                      <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 \">\n                        <div className=\"clr_k\" style={{height:\"140px\"}}>\n                          <div className=\"col-lg-offset-1 col-lg-2 col-md-12 col-sm-12 col-xs-12 hand_icon1\">\n                            <img src=\"/images/Upload-Icon.png\"/>\n                          </div>\n                          <div  className= \"col-lg-offset-1 col-lg-10 col-md-10 col-sm-10 col-xs-10 below_text noPad\">\n                           <b className=\"text_k11\"></b>\n                           <span className=\"text-center under_ln col-lg-12 noPad\">Choose Image</span>\n                           <div className=\"format1\">Accepted formats: .jpg,.gif,.bmp,& .png <br/>Max size: 4 MB</div>\n                          </div>      \n                          <input  type=\"file\" title=\"Click to attach file\"  name=\"userPic\" onChange={this.uploadPropertyImage.bind(this)} ref=\"propertyImg\"  className=\"form-control click_input\" id=\"upload-file2\" />\n                        </div> \n                      </div>\n                    </div>\n                }\n                </div>\n\n            {/*--------------------------------------------------------------*/}\n\t\t\t\t\t\t\n             <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 compForm compinfotp marBtm\">\n                  {this.state.singleVideo===\"\"?\n                      <div className=\"col-lg-4 col-md-4 col-sm-12 col-xs-12 row padTopC\">\n                      <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 row\">\n                        <h5 className=\"h5Title col-lg-12 col-md-12 col-sm-12 col-xs-12\">Please Upload Video:</h5>\n                      </div> \n                      <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 \">\n                        <div className=\"clr_k \"  style={{height:\"140px\"}}>\n                          <div className=\"col-lg-offset-1 col-lg-2 col-md-12 col-sm-12 col-xs-12 hand_icon2 move_hand_icon\">\n                            <img src=\"/images/Upload-Icon.png\"/>\n                          </div>\n                          <div  className= \"col-lg-offset-1 col-lg-10 col-md-10 col-sm-10 col-xs-10 below_text noPad\">\n                           <b className=\"text_k11\"></b>\n                           <span className=\"under_ln col-lg-12 noPad\">Choose Video</span>\n                           <div className=\"format2\">Accepted formats: .mp4,.avi,.ogv <br/>Max size: 20 MB</div>\n\n                          </div>      \n                          <input  type=\"file\" title=\"Click to attach file\" multiple name=\"userPic\" onChange={this.uploadSingleVideo.bind(this)} ref=\"propertyVideo\"  className=\"form-control click_input\" id={this.state.singleVideo} />\n                        </div> \n                      </div>\n                      {/*<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 imgdetails\">(max size: 1 Mb, Format: mp4, avi, ogv)</div>\n                    */}</div>\n                    :\n                    null}\n\n                    {this.state.tempLoader === true ?\n                    \t<div>\n                    \t<Loader\n\t\t\t\t\t         type=\"Oval\"\n\t\t\t\t\t         color=\"#F5AD3E\"\n\t\t\t\t\t         height=\"100\"\n\t\t\t\t\t         width=\"100\"\n\t\t\t\t\t         id=\"tempL\"\n\t\t\t\t\t         className=\"tempL\"\n\t\t\t\t\t         \t\t\t\t\t      />\n\n\t\t\t\t\t     </div>\n\t\t\t\t\t      :\n\t\t\t\t\t      null\n                    \t\n                    }\n\n                  {this.state.singleVideo===\"\" ?\n                    \n                     null\n\n                  :\n\n\n                    <div className=\"col-lg-4 col-md-4 col-sm-12 col-xs-12 padTopC\">\n                      <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 row\">\n                        <h5 className=\"h5Title col-lg-12 col-md-12 col-sm-12 col-xs-12 row\">Please Upload Video:</h5>\n                      </div>\n                      <div className=\"containerC\">\n                        <label id=\"logoImage\" className=\"pull-right custFaTimes1\" title=\"Delete Video\" onClick={this.deleteSingleVideoDirect.bind(this)}>X</label>\n                       {\tconsole.log(\"this.state.singleVideo -----------------\",this.state.singleVideo) }\n\n\t                   {   \n\t                       \t<video width=\"100%\" height=\"100%\" controls>\n\t                       \t\t\t{console.log(\"here video link of map\",this.state.singleVideo)}\n\t                                <source src={this.state.singleVideo} type=\"video/mp4\" className=\"col-lg-12 noPad\"/>\n\t                        </video>\n                    \t}\n                        <div className=\"middleC\">\n                        </div>\n                      </div>\n                    </div>\n                  }                  \n                </div>\n               \n\n\t\t\t{/*======================================================================*/}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 mt78\">\n\t\t\t\t  \t{<div className=\"form-group col-lg-3\tcol-md-3 col-sm-6 col-xs-6 pull-left\">\n\t\t\t\t       <button className=\"btn btn-danger col-lg-12 col-md-12 col-sm-12 col-xs-12\" onClick={this.backToAvailability.bind(this)}> &lArr; &nbsp; &nbsp; Back </button>\n\t\t\t\t  \t</div>}\n\t\t\t\t  \t<div className=\"form-group col-lg-3\tcol-md-3 col-sm-6 col-xs-6 pull-right\">\n\t\t\t\t       <button className=\"btn nxt_btn col-lg-12 col-md-12 col-sm-12 col-xs-12\" onClick={this.uploadData.bind(this)} >Finish &nbsp; &nbsp; &rArr;</button>\n\t\t\t\t  \t</div>\n\t\t\t\t</div>\n\n        <div className=\"container5\">\n        {this.state.type===true ?\n\n         <div className=\"switch\" onChange={this.handleToggle.bind(this)} >\n            <input type=\"radio\" className=\"switch-input\" name=\"view\" value=\"sell\" id=\"week\"  checked />\n            <label for=\"week\" className=\"switch-label switch-label-off\">SELL</label>\n            <input type=\"radio\" className=\"switch-input\" name=\"view\" value=\"rent\" id=\"month\"  />\n            <label for=\"month\" className=\"switch-label switch-label-on\">RENT</label>\n            <span className=\"switch-selection\"></span>\n          </div>\n\n          :\n\n           <div className=\"switch\" onChange={this.handleToggle.bind(this)} >\n            <input type=\"radio\" className=\"switch-input\" name=\"view\" value=\"sell\" id=\"week\"   />\n            <label for=\"week\" className=\"switch-label switch-label-off\">SELL</label>\n            <input type=\"radio\" className=\"switch-input\" name=\"view\" value=\"rent\" id=\"month\" checked  />\n            <label for=\"month\" className=\"switch-label switch-label-on\">RENT</label>\n            <span className=\"switch-selection\" ></span>\n          </div>\n       \n      }\n    \n  </div>\n\n\t\t\t</div>\n\t\t);\n\t}\n}\nconst mapStateToProps = (state)=>{\n\treturn {\n\t\tproperty_id  : state.property_id,\n\t\tuid\t\t\t : state.uid,\n\t\tupdateStatus    : state.updateStatus,\t\t\n\n\n\t}\n};\nconst mapDispatchToProps = (dispatch)=>{\n\treturn {\n\t\tbackToAvailability  \t     : (uid,propertyId)=> dispatch({type: \"BACK_TO_AVAILABILITY\",\n\t\t\t\t\t\t\t\t\t\t\t uid         :  uid,\n\t\t\t\t\t\t\t\t\t\t\t property_id :  propertyId,\n\t\t\t\t\t\t\t\t\t\t}),\n\t\tredirectToCongratsPage \t\t : (uid,propertyId)=> dispatch({type: \"REDIRECT_TO_CONGRATS_PAGE\",\n\t\t\t\t\t\t\t\t\t\t\t uid         :  uid,\n\t\t\t\t\t\t\t\t\t\t\t property_id :  propertyId,\t\n\t\t\t\t\t\t\t\t}),\n\n\n\t}\n};\n\nexport default connect(mapStateToProps,mapDispatchToProps)(withRouter(ImageUpload));\n"]},"metadata":{},"sourceType":"module"}