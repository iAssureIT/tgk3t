{"ast":null,"code":"var _jsxFileName = \"/home/iassureit/react/tgk3t/webapp/field/src/blocks/PostProperty/CongratsPage/CongratsPage.js\";\nimport React, { Component } from 'react';\nimport { Route, Redirect, withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport styled, { keyframes, css } from 'styled-components'; // import { keyFrameExampleOne } from './KeyFrames';\n\nimport swal from 'sweetalert';\nimport './CongratsPage.css';\n\nclass CongratsPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      percentage: \"\",\n      per: \"\"\n    };\n  }\n\n  componentDidMount() {\n    axios.defaults.headers.common['Authorization'] = 'Bearer ' + localStorage.getItem(\"token\");\n    var prop_index = localStorage.getItem(\"index\");\n    console.log(\"here prop_index\", prop_index);\n    var formvalues = {\n      \"index\": prop_index\n    };\n    console.log(\"index\", formvalues);\n    axios.post('/api/properties/post/findindexper', formvalues).then(res => {\n      console.log(\"resposnse here===================>\", res);\n      var cash_per = res.data.data.earnings;\n      console.log(\"here earnings\", cash_per);\n      axios.get('/api/properties/' + this.props.property_id).then(propertyData => {\n        console.log(\"propertiesData\", propertyData.data);\n        axios.get('/api/users/get/one/' + localStorage.getItem(\"uid\")).then(userData => {\n          var sendDataToUser = {\n            \"templateName\": \"User - New Property Posted\",\n            \"toUserId\": userData.data._id,\n            \"variables\": {\n              \"userName\": userData.data.profile.fullName,\n              \"propertyType\": propertyData.data.propertyType,\n              \"transactionType\": propertyData.data.transactionType,\n              \"propertyID\": propertyData.data.propertyCode,\n              \"address\": propertyData.data.propertyLocation.address,\n              \"society\": propertyData.data.propertyLocation.society,\n              \"subArea\": propertyData.data.propertyLocation.subArea,\n              \"area\": propertyData.data.propertyLocation.area,\n              \"city\": propertyData.data.propertyLocation.city,\n              \"state\": propertyData.data.propertyLocation.state\n            }\n          };\n          console.log(\"sendData\", sendDataToUser);\n          var sendDataToAdmin = {\n            \"templateName\": \"Admin - New Property Posted\",\n            \"toUserId\": \"admin\",\n            \"variables\": {\n              \"userName\": userData.data.profile.fullName,\n              \"userMobile\": userData.data.profile.mobileNumber,\n              \"userEmail\": userData.data.profile.emailId,\n              \"userCity\": userData.data.profile.city,\n              \"propertyType\": propertyData.data.propertyType,\n              \"transactionType\": propertyData.data.transactionType,\n              \"propertyID\": propertyData.data.propertyCode,\n              \"address\": propertyData.data.propertyLocation.address,\n              \"society\": propertyData.data.propertyLocation.society,\n              \"subArea\": propertyData.data.propertyLocation.subArea,\n              \"area\": propertyData.data.propertyLocation.area,\n              \"city\": propertyData.data.propertyLocation.city,\n              \"state\": propertyData.data.propertyLocation.state\n            }\n          };\n          console.log(\"sendData\", sendDataToAdmin);\n          axios.post('/api/masternotifications/post/sendNotification', sendDataToAdmin).then(result => {\n            console.log(\"SendEmailNotificationToAdmin\", result);\n            axios.post('/api/masternotifications/post/sendNotification', sendDataToUser).then(res => {\n              console.log(\"SendEmailNotificationToUser\", res);\n            }).catch(error => {\n              console.log(\"error = \", error);\n\n              if (error.message === \"Request failed with status code 401\") {\n                swal(\"Your session is expired! Please login again.\", \"\", \"error\");\n                localStorage.removeItem(\"uid\");\n                localStorage.removeItem(\"token\");\n                this.props.history.push(\"/\");\n              }\n            });\n          });\n        }).catch(error => {\n          console.log(\"error = \", error);\n\n          if (error.message === \"Request failed with status code 401\") {\n            swal(\"Your session is expired! Please login again.\", \"\", \"error\");\n            localStorage.removeItem(\"uid\");\n            localStorage.removeItem(\"token\");\n            this.props.history.push(\"/\");\n          }\n        });\n      }).catch(error => {\n        console.log(\"error = \", error);\n\n        if (error.message === \"Request failed with status code 401\") {\n          swal(\"Your session is expired! Please login again.\", \"\", \"error\");\n          localStorage.removeItem(\"uid\");\n          localStorage.removeItem(\"token\");\n          this.props.history.push(\"/\");\n        }\n      });\n      this.setState({\n        percentage: cash_per\n      }, () => {\n        var data = this.state.percentage;\n        var per = 0;\n\n        if (data <= 10 && data >= 0) {\n          per = 30;\n        }\n\n        if (data <= 20 && data > 10) {\n          per = 60;\n        }\n\n        if (data <= 30 && data > 20) {\n          per = 90;\n        }\n\n        if (data <= 40 && data > 30) {\n          per = 120;\n        }\n\n        if (data <= 50 && data > 40) {\n          per = 150;\n        }\n\n        console.log(\"data\", data);\n        console.log(\"per\", per); // console.log(\"here prop of showMeter\",this.props.showMeter);\n\n        if (this.props.congratsPage === true) {\n          this.setState({\n            per: per\n          });\n        }\n\n        console.log(\"this.props.congratsPage\", this.props.congratsPage);\n      });\n    }).catch(error => {\n      console.log(\"error = \", error);\n\n      if (error.message === \"Request failed with status code 401\") {\n        swal(\"Your session is expired! Please login again.\", \"\", \"error\");\n        localStorage.removeItem(\"uid\");\n        localStorage.removeItem(\"token\");\n        this.props.history.push(\"/\");\n      }\n    });\n  }\n\n  redirectToProfile() {\n    this.props.history.push(\"/Profile/\" + this.props.property_id);\n    window.location.reload();\n  }\n\n  render() {\n    console.log(\"this.state.percentage\", this.state.percentage);\n    return React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"/images/fireworks.png\",\n      className: \"col-lg-3 col-xs-12 hidden-xs hidden-sm\",\n      style: {\n        height: \"154px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      className: \"col-lg-6  CP1 hidden-xs hidden-sm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, \"Congratulations\"), React.createElement(\"p\", {\n      className: \"col-lg-6  CP11 hidden-lg hidden-md\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, \"Congratulations\"), React.createElement(\"img\", {\n      src: \"/images/fireworks.png\",\n      className: \"col-lg-3 col-xs-12 hidden-xs hidden-sm\",\n      style: {\n        height: \"154px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      className: \"col-lg-12 CP2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, \"Your Property is \", React.createElement(\"b\", {\n      className: \"fontColor\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, \"FAST SELLING HOT POTATO\")), React.createElement(\"p\", {\n      className: \"col-lg-12 CP3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, \"and qualifies for a \", React.createElement(\"b\", {\n      className: \"fontColor\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, this.state.percentage != \"\" ? this.state.percentage + \"%\" : null), \" brokerage to be paid by us on successful deal through us \"), React.createElement(\"div\", {\n      className: \"col-lg-6 col-lg-offset-3 CP4 col-xs-12 hidden-xs hidden-sm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"/images/meter.png\",\n      className: \"col-lg-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }), this.props.congratsPage === true ? React.createElement(\"img\", {\n      src: \"/images/needle1.png\",\n      className: \"needle col-lg-5 col-xs-5 \",\n      style: {\n        transform: \"rotate(\" + this.state.per + \"deg)\",\n        transformOrigin: \"90% 55%\",\n        transition: \"transform 3s\",\n        transitionDelay: \"1s\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }) : null, React.createElement(\"b\", {\n      className: \"col-lg-12 col-xs-12 CP5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, \"Sell-O-Meter\")), React.createElement(\"div\", {\n      className: \"col-lg-6 col-lg-offset-3 CP4 col-xs-12 hidden-lg hidden-md\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"/images/meter.png\",\n      className: \"col-lg-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }), this.props.congratsPage === true ? React.createElement(\"img\", {\n      src: \"/images/needle1.png\",\n      className: \"needleXs col-lg-5 col-xs-5 \",\n      style: {\n        transform: \"rotate(\" + this.state.per + \"deg)\",\n        transformOrigin: \"90% 55%\",\n        transition: \"transform 3s\",\n        transitionDelay: \"1s\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }) : null, React.createElement(\"b\", {\n      className: \"col-lg-12 col-xs-12 CP5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, \"Sell-O-Meter\")), React.createElement(\"p\", {\n      className: \"col-lg-12 col-xs-12 CP6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, \"Your Property \", React.createElement(\"b\", {\n      className: \"congColor\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, \"Successfully\"), \" submitted & will be published soon!!!\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-primary CP7 pull-right\",\n      onClick: this.redirectToProfile.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }, \"Profile Preview\")));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    property_id: state.property_id,\n    uid: state.uid,\n    showMeter: state.showMeter,\n    congratsPage: state.CongratsPage\n  };\n};\n\nexport default connect(mapStateToProps)(withRouter(CongratsPage));","map":{"version":3,"sources":["/home/iassureit/react/tgk3t/webapp/field/src/blocks/PostProperty/CongratsPage/CongratsPage.js"],"names":["React","Component","Route","Redirect","withRouter","connect","axios","styled","keyframes","css","swal","CongratsPage","constructor","props","state","percentage","per","componentDidMount","defaults","headers","common","localStorage","getItem","prop_index","console","log","formvalues","post","then","res","cash_per","data","earnings","get","property_id","propertyData","userData","sendDataToUser","_id","profile","fullName","propertyType","transactionType","propertyCode","propertyLocation","address","society","subArea","area","city","sendDataToAdmin","mobileNumber","emailId","result","catch","error","message","removeItem","history","push","setState","congratsPage","redirectToProfile","window","location","reload","render","height","transform","transformOrigin","transition","transitionDelay","bind","mapStateToProps","uid","showMeter"],"mappings":"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","sourcesContent":["import React, { Component }   \t\t\tfrom 'react';\nimport { Route , Redirect, withRouter}  from 'react-router-dom';\nimport { connect } \t\t\t\t\t\tfrom 'react-redux';\nimport axios \t\t\t\t\t\t\tfrom 'axios';\nimport styled, { keyframes, css} \t\tfrom 'styled-components';\n// import { keyFrameExampleOne } from './KeyFrames';\nimport swal                     \t\tfrom 'sweetalert';\n\nimport './CongratsPage.css';\n\n class CongratsPage extends Component {\n\n \tconstructor(props){\n\t\t\tsuper(props);\n\t\t\tthis.state = {\n\t\t\t\tpercentage : \"\",\n\t\t\t\tper        : \"\",\n\n\t\t\t};\n\t\t}\n \tcomponentDidMount(){\n\n\t\t \n      axios.defaults.headers.common['Authorization'] = 'Bearer '+ localStorage.getItem(\"token\");\n\n\t\tvar prop_index = localStorage.getItem(\"index\");\n\t\tconsole.log(\"here prop_index\", prop_index);\n\t\tvar formvalues = {\n\t\t\t\n\t\t\t \"index\" \t\t\t: prop_index\n\n\t\t}\n\n\t\tconsole.log(\"index\",formvalues)\n\t\t\taxios\n\t\t\t\t.post('/api/properties/post/findindexper',formvalues)\n\t\t\t\t.then( (res) =>{\n\t\t\t\t\tconsole.log(\"resposnse here===================>\",res);\n\t\t\t\t\tvar cash_per = res.data.data.earnings;\n\t\t\t\t\tconsole.log(\"here earnings\",cash_per);\n\t\t\t\t\taxios\n                .get('/api/properties/'+this.props.property_id)\n                .then((propertyData) =>{\n                  console.log(\"propertiesData\",propertyData.data);\n                  axios\n                    .get('/api/users/get/one/'+localStorage.getItem(\"uid\"))\n                    .then((userData) =>{\n                          var sendDataToUser = {\n                          \"templateName\"  : \"User - New Property Posted\",\n                          \"toUserId\"      : userData.data._id,\n                          \"variables\"           : {\n                              \"userName\"          : userData.data.profile.fullName,\n                              \"propertyType\"      : propertyData.data.propertyType,\n                              \"transactionType\"   : propertyData.data.transactionType,\n                              \"propertyID\"        : propertyData.data.propertyCode,\n                              \"address\"           : propertyData.data.propertyLocation.address,\n                              \"society\"           : propertyData.data.propertyLocation.society,\n                              \"subArea\"           : propertyData.data.propertyLocation.subArea,\n                              \"area\"              : propertyData.data.propertyLocation.area,\n                              \"city\"              : propertyData.data.propertyLocation.city,\n                              \"state\"             : propertyData.data.propertyLocation.state,\n                          }\n                      }\n                      console.log(\"sendData\",sendDataToUser);\n                      var sendDataToAdmin = {\n                          \"templateName\"        : \"Admin - New Property Posted\",\n                          \"toUserId\"            : \"admin\",\n                          \"variables\"           : {\n                              \"userName\"          : userData.data.profile.fullName,\n                              \"userMobile\"        : userData.data.profile.mobileNumber,\n                              \"userEmail\"         : userData.data.profile.emailId,\n                              \"userCity\"          : userData.data.profile.city,\n                              \"propertyType\"      : propertyData.data.propertyType,\n                              \"transactionType\"   : propertyData.data.transactionType,\n                              \"propertyID\"        : propertyData.data.propertyCode,\n                              \"address\"           : propertyData.data.propertyLocation.address,\n                              \"society\"           : propertyData.data.propertyLocation.society,\n                              \"subArea\"           : propertyData.data.propertyLocation.subArea,\n                              \"area\"              : propertyData.data.propertyLocation.area,\n                              \"city\"              : propertyData.data.propertyLocation.city,\n                              \"state\"             : propertyData.data.propertyLocation.state,\n                          }\n                      }\n                      console.log(\"sendData\",sendDataToAdmin);\n                      axios\n                      .post('/api/masternotifications/post/sendNotification',sendDataToAdmin)\n                      .then((result) =>{\n                        console.log(\"SendEmailNotificationToAdmin\",result);\n                        axios\n                        .post('/api/masternotifications/post/sendNotification',sendDataToUser)\n                        .then((res) =>{\n                          console.log(\"SendEmailNotificationToUser\",res);           \n                        })\n                        .catch((error)=>{\n\t                        console.log(\"error = \",error);\n\t                        if(error.message === \"Request failed with status code 401\")\n\t                        {\n\t                             swal(\"Your session is expired! Please login again.\",\"\", \"error\");\n\t\t\t\t\t\t\t\tlocalStorage.removeItem(\"uid\");\n\t\t\t\t\t\t\t\tlocalStorage.removeItem(\"token\");\n\t                             this.props.history.push(\"/\");\n\t                        }\n\t                    });          \n                      })\n                            \n                })\n\t             .catch((error)=>{\n                        console.log(\"error = \",error);\n                        if(error.message === \"Request failed with status code 401\")\n                        {\n                             swal(\"Your session is expired! Please login again.\",\"\", \"error\");\n\t\t\t\t\t\t\tlocalStorage.removeItem(\"uid\");\n\t\t\t\t\t\t\tlocalStorage.removeItem(\"token\");\n                             this.props.history.push(\"/\");\n                        }\n                    });  \n                               \n              })\n             .catch((error)=>{\n                        console.log(\"error = \",error);\n                        if(error.message === \"Request failed with status code 401\")\n                        {\n                             swal(\"Your session is expired! Please login again.\",\"\", \"error\");\n\t\t\t\t\t\t\tlocalStorage.removeItem(\"uid\");\n\t\t\t\t\t\t\tlocalStorage.removeItem(\"token\");\n                             this.props.history.push(\"/\");\n                        }\n                    });\n\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tpercentage : cash_per\n\t\t\t\t\t},()=>{\n\t\t\t\t\t\tvar data =  this.state.percentage;\n\t\t\t\t\t\tvar per = 0;\n\t\t\t\t\t\tif(data <=10 && data >= 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tper = 30;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(data <=20 && data > 10)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tper = 60;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(data <=30 && data > 20)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tper = 90;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(data <=40 && data >30)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tper = 120;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(data <=50 && data >40)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tper = 150;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconsole.log(\"data\",data);\n\t\t\t\t\t\tconsole.log(\"per\",per);\n\n\t\t\t\t\t\t// console.log(\"here prop of showMeter\",this.props.showMeter);\n\t\t\t\t\t\tif(this.props.congratsPage === true){\n\t\t\t\t\t\t\tthis.setState({per:per})\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconsole.log(\"this.props.congratsPage\",this.props.congratsPage);\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t})\n\t\t\t\t.catch((error)=>{\n                        console.log(\"error = \",error);\n                        if(error.message === \"Request failed with status code 401\")\n                        {\n                             swal(\"Your session is expired! Please login again.\",\"\", \"error\");\n\t\t\t\t\t\t\tlocalStorage.removeItem(\"uid\");\n\t\t\t\t\t\t\tlocalStorage.removeItem(\"token\");\n                             this.props.history.push(\"/\");\n                        }\n                });\n\n\n\n\n\t}\n\n \tredirectToProfile(){\n \t\t\tthis.props.history.push(\"/Profile/\"+this.props.property_id);\n   \t\t\twindow.location.reload();\n \t}\n\n\trender() {\n\t\t\tconsole.log(\"this.state.percentage\",this.state.percentage)\n\n\t\treturn (\n\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n\t\t\t\t<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n\t\t\t\t\t<img src=\"/images/fireworks.png\" className=\"col-lg-3 col-xs-12 hidden-xs hidden-sm\" style={{height:\"154px\"}} />\n\t\t\t\t\t<p className=\"col-lg-6  CP1 hidden-xs hidden-sm\">Congratulations</p>\n\t\t\t\t\t<p className=\"col-lg-6  CP11 hidden-lg hidden-md\">Congratulations</p>\n\t\t\t\t\t<img src=\"/images/fireworks.png\" className=\"col-lg-3 col-xs-12 hidden-xs hidden-sm\" style={{height:\"154px\"}} />\n\t\t\t\t</div>\n\t\t\t\t<p className=\"col-lg-12 CP2\">Your Property is <b className=\"fontColor\">FAST SELLING HOT POTATO</b></p>\n\t\t\t\t<p className=\"col-lg-12 CP3\">and qualifies for a <b className=\"fontColor\">{this.state.percentage!=\"\" ? this.state.percentage+\"%\" : null}</b> brokerage to be paid by us on successful deal through us </p>\n\t\t\t\t<div className=\"col-lg-6 col-lg-offset-3 CP4 col-xs-12 hidden-xs hidden-sm\">\n\t\t\t\t\t<img src=\"/images/meter.png\" className=\"col-lg-12 col-xs-12\" />\n\t\t\t\t\t{this.props.congratsPage === true?\n\t\t\t\t\t\t<img src=\"/images/needle1.png\" className=\"needle col-lg-5 col-xs-5 \" style={{transform: \"rotate(\"+this.state.per+\"deg)\",transformOrigin: \"90% 55%\",transition : \"transform 3s\",transitionDelay: \"1s\"}} />\n\t\t\t\t\t\t:\n\t\t\t\t\t\tnull\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\n\t\t\t\t\t<b className=\"col-lg-12 col-xs-12 CP5\">Sell-O-Meter</b>\n\t\t\t\t</div>\n\t\t\t{/*responsive*/}\n\t\t\t\t<div className=\"col-lg-6 col-lg-offset-3 CP4 col-xs-12 hidden-lg hidden-md\">\n\t\t\t\t\t<img src=\"/images/meter.png\" className=\"col-lg-12 col-xs-12\" />\n\t\t\t\t\t{this.props.congratsPage === true?\n\t\t\t\t\t\t<img src=\"/images/needle1.png\" className=\"needleXs col-lg-5 col-xs-5 \" style={{transform: \"rotate(\"+this.state.per+\"deg)\",transformOrigin: \"90% 55%\",transition : \"transform 3s\",transitionDelay: \"1s\"}} />\n\t\t\t\t\t\t:\n\t\t\t\t\t\tnull\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\n\t\t\t\t\t<b className=\"col-lg-12 col-xs-12 CP5\">Sell-O-Meter</b>\n\t\t\t\t</div>\n\t\t\t{/*end*/}\n\t\t\t\t<p className=\"col-lg-12 col-xs-12 CP6\">Your Property <b className=\"congColor\">Successfully</b> submitted & will be published soon!!!</p>\n\t\t\t\t<div>\n\t\t\t\t\t <button className=\"btn btn-primary CP7 pull-right\" onClick={this.redirectToProfile.bind(this)}>Profile Preview</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\nconst mapStateToProps = (state)=>{\n\treturn {\n\t\tproperty_id  : state.property_id,\n\t\tuid\t\t\t : state.uid,\n\t\tshowMeter    : state.showMeter,\n\t\tcongratsPage : state.CongratsPage\n\n\t}\n};\nexport default connect(mapStateToProps) (withRouter(CongratsPage));\n"]},"metadata":{},"sourceType":"module"}