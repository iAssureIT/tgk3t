{"ast":null,"code":"var _jsxFileName = \"/home/iassureit/react/tgk3t/webapp/field/src/blocks/PostProperty/Amenities/Amenities.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport $ from \"jquery\";\nimport swal from 'sweetalert';\nimport { Link } from 'react-router-dom';\nimport { Route, withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport Availability from '../Availability/Availability.js';\nimport Financials from '../Financials/Financials.js';\nimport './Amenities.css';\n\nclass Amenities extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      originalValues: '',\n      Amenities: [],\n      allAmenities: \"\",\n      prevAmenities: \"\",\n      updateOperation: false\n    };\n\n    if (this.props.updateStatus === true) {\n      axios.get('/api/masteramenities/list').then(res => {\n        console.log('res postdata', res);\n        const postsdata = res.data;\n        console.log('postsdata', postsdata);\n        this.setState({\n          allAmenities: postsdata\n        }, () => {\n          console.log(\"here allAmenities by admin in update status true\", this.state.allAmenities);\n          axios.get('/api/properties/' + this.props.property_id).then(response => {\n            console.log(\"response.data.Amenities= \", response);\n            this.setState({\n              originalValues: response.data,\n              prevAmenities: response.data.Amenities,\n              updateOperation: true\n            }, () => {\n              console.log(\"here prevAmenities\", this.state.prevAmenities);\n            });\n            var allAmenitiesData = this.state.allAmenities;\n            console.log(\"here allAmenitiesData\", allAmenitiesData);\n            var allAmenitiesDataList = allAmenitiesData.map((item, index) => {\n              console.log(\"item\", item.amenity);\n              var propPresent = this.state.prevAmenities.find(obj => {\n                console.log(\"obj\", obj);\n                return item.amenity === obj;\n                console.log(\"here propPresent \", propPresent);\n              });\n              var newObj = Object.assign({}, item);\n\n              if (propPresent) {\n                newObj.checked = true;\n              } else {\n                newObj.checked = false;\n              }\n\n              console.log(\"newObj\", newObj);\n              return newObj;\n            }); // console.log(\"allAmenitiesDataList after data match\",allAmenitiesDataList);\n\n            this.setState({\n              allAmenities: allAmenitiesDataList\n            }, () => {\n              console.log(\"here allAmenities in didmount after match result\", this.state.allAmenities);\n            });\n          }).catch(error => {\n            console.log(\"error = \", error);\n\n            if (error.message === \"Request failed with status code 401\") {\n              swal(\"Your session is expired! Please login again.\", \"\", \"error\");\n              localStorage.removeItem(\"uid\");\n              localStorage.removeItem(\"token\");\n              this.props.history.push(\"/\");\n            }\n          }); // ------------------------------\n        });\n      }).catch(error => {\n        console.log(\"error = \", error);\n\n        if (error.message === \"Request failed with status code 401\") {\n          swal(\"Your session is expired! Please login again.\", \"\", \"error\");\n          localStorage.removeItem(\"uid\");\n          localStorage.removeItem(\"token\");\n          this.props.history.push(\"/\");\n        }\n      }); // -----------------------------------------------------------------------------------\n    }\n  }\n\n  componentDidMount() {\n    axios.defaults.headers.common['Authorization'] = 'Bearer ' + localStorage.getItem(\"token\");\n    console.log(\"update status in did mount\", this.props.updateStatus);\n\n    if (this.props.updateStatus === false) {\n      axios.get('/api/masteramenities/list').then(res => {\n        console.log('res postdata', res);\n        const postsdata = res.data;\n        console.log('postsdata', postsdata);\n        this.setState({\n          allAmenities: postsdata\n        });\n      }).catch(error => {\n        console.log(\"error = \", error);\n\n        if (error.message === \"Request failed with status code 401\") {\n          swal(\"Your session is expired! Please login again.\", \"\", \"error\");\n          localStorage.removeItem(\"uid\");\n          localStorage.removeItem(\"token\");\n          this.props.history.push(\"/\");\n        }\n      }); // //////////////////////////////////////////////////////\n\n      console.log(\"this.props.updateStatus\", this.props.updateStatus);\n      console.log(\"this.props.property_id\", this.props.property_id);\n      console.log(\"all amenities for admin\", this.state.allAmenities);\n    }\n  }\n\n  updateUser(event) {\n    event.preventDefault();\n\n    if (this.state.updateOperation === true) {\n      console.log(\"update fun\");\n      var ov = this.state.originalValues;\n      var allAmenitiesData = this.state.allAmenities;\n      var allAmenitiesDataList = [];\n      allAmenitiesData.map((item, index) => {\n        if (item.checked == true) {\n          allAmenitiesDataList.push(item.amenity);\n        }\n      });\n      console.log(\"this.state.allAmenities\", this.state.allAmenities);\n      console.log(\"allAmenitiesDataList true\", allAmenitiesDataList);\n      console.log(\"here result amenity\", ov.Amenities);\n      var eq = \"\";\n\n      if (allAmenitiesDataList.length != ov.Amenities.length) {\n        eq = false;\n        console.log(\"equal not\", eq);\n      } else {\n        for (var i = 0; i < allAmenitiesDataList.length; i++) {\n          if (allAmenitiesDataList[i] != ov.Amenities[i]) {\n            eq = false;\n          } else {\n            eq = true;\n          }\n        }\n\n        console.log(\"equal yes but same\", eq);\n      }\n\n      console.log(\"outside eq\", eq);\n\n      if (eq === true) {\n        console.log(\"same data\");\n        this.props.redirectToFinancialDetails(this.props.uid, this.props.property_id);\n      } else {\n        console.log(\"diff data\");\n        console.log(\"allAmenities in result\", this.state.allAmenities);\n        var allAmenitiesData = this.state.allAmenities;\n        var allAmenitiesDataList = [];\n        allAmenitiesData.map((item, index) => {\n          if (item.checked == true) {\n            allAmenitiesDataList.push(item.amenity);\n          }\n        });\n        console.log(\"allAmenitiesDataList true\", allAmenitiesDataList);\n        const formValues = {\n          \"Amenities\": allAmenitiesDataList,\n          \"property_id\": localStorage.getItem(\"propertyId\"),\n          \"uid\": localStorage.getItem(\"uid\")\n        };\n        console.log(\"Amenities req = \", formValues);\n\n        if (allAmenitiesDataList != \"\") {\n          axios.patch('/api/properties/patch/amenities', formValues).then(res => {\n            console.log(\"Amenities res = \", res);\n\n            if (res.status === 200) {\n              this.props.redirectToFinancialDetails(this.props.uid, this.props.property_id);\n            }\n          }).catch(error => {\n            console.log(\"error = \", error);\n\n            if (error.message === \"Request failed with status code 401\") {\n              swal(\"Your session is expired! Please login again.\", \"\", \"error\");\n              localStorage.removeItem(\"uid\");\n              localStorage.removeItem(\"token\");\n              this.props.history.push(\"/\");\n            }\n          });\n        } else {\n          swal(\"Please select atleast one amenity\", \"\", \"warning\");\n          console.error(\"FORM INVALID - DISPLAY ERROR MESSAGE\");\n        }\n      }\n    } else {\n      console.log(\"submit fun\");\n      console.log(\"allAmenities in result\", this.state.allAmenities);\n      var allAmenitiesData = this.state.allAmenities;\n      var allAmenitiesDataList = [];\n      allAmenitiesData.map((item, index) => {\n        if (item.checked == true) {\n          allAmenitiesDataList.push(item.amenity);\n        }\n      });\n      console.log(\"allAmenitiesDataList true\", allAmenitiesDataList);\n      const formValues = {\n        \"Amenities\": allAmenitiesDataList,\n        \"property_id\": localStorage.getItem(\"propertyId\"),\n        \"uid\": localStorage.getItem(\"uid\")\n      };\n      console.log(\"Amenities req = \", formValues);\n\n      if (allAmenitiesDataList != \"\") {\n        axios.patch('/api/properties/patch/amenities', formValues).then(res => {\n          console.log(\"Amenities res = \", res);\n\n          if (res.status === 200) {\n            this.props.redirectToFinancialDetails(this.props.uid, this.props.property_id);\n          }\n        }).catch(error => {\n          console.log(\"error = \", error);\n\n          if (error.message === \"Request failed with status code 401\") {\n            swal(\"Your session is expired! Please login again.\", \"\", \"error\");\n            localStorage.removeItem(\"uid\");\n            localStorage.removeItem(\"token\");\n            this.props.history.push(\"/\");\n          }\n        });\n      } else {\n        swal(\"Please select atleast one amenity\", \"\", \"warning\");\n        console.error(\"FORM INVALID - DISPLAY ERROR MESSAGE\");\n      }\n    }\n  }\n\n  totalInclude(event) {\n    console.log(\"event.target.getAttribute('value')\", event.target.getAttribute('value'));\n    var checkedPropAmenityType = [];\n\n    if (event.target.checked) {\n      checkedPropAmenityType = event.target.getAttribute('value');\n      var allAmenities = this.state.allAmenities;\n\n      for (let i = 0; i < allAmenities.length; i++) {\n        for (let j = 0; j < checkedPropAmenityType.length; j++) {\n          if (allAmenities[i].amenity === checkedPropAmenityType) {\n            allAmenities[i].checked = true;\n          }\n        }\n      }\n\n      this.setState({\n        allAmenities: allAmenities\n      }, () => {\n        console.log(\"here allAmenities in function check \", this.state.allAmenities);\n      }); // this.state.Amenities.push(e.target.getAttribute('value'));\n      // console.log(\"Amenities\",this.state.Amenities);\n    } else {\n      checkedPropAmenityType = event.target.getAttribute('value');\n      var allAmenities = this.state.allAmenities;\n\n      for (let i = 0; i < allAmenities.length; i++) {\n        for (let j = 0; j < checkedPropAmenityType.length; j++) {\n          if (allAmenities[i].amenity === checkedPropAmenityType) {\n            allAmenities[i].checked = false;\n          }\n        }\n      }\n\n      this.setState({\n        allAmenities: allAmenities\n      }, () => {\n        console.log(\"here allAmenities in function uncheck \", this.state.allAmenities);\n      }); // this.state.Amenities.pop(e.target.getAttribute('value'));\t\n      // console.log(\"Amenities1\",this.state.Amenities);\n    }\n  }\n\n  backToPropertyDetails() {\n    // this.props.backToPropertyDetails();\n    this.props.backToPropertyDetails(this.props.uid, localStorage.getItem(\"propertyId\"));\n  }\n\n  render() {\n    console.log(\"this.state.allAmenities\", this.state.allAmenities);\n    return React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12  col-sm-12 col-xs-12 \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      id: \"form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \" row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"col-lg-12  col-md-10 col-sm-12 col-xs-12 mt40 borderClass padd0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container-fluid padd0 \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374\n      },\n      __self: this\n    }, console.log(\"here amenity in map\", this.state.allAmenities), this.state.allAmenities && this.state.allAmenities.length > 0 ? this.state.allAmenities.map((data, index) => {\n      // console.log(\"data\",data);\n      return React.createElement(\"div\", {\n        className: \"col-lg-6 FF4I1 sideBorder\",\n        key: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 381\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"container2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 383\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        value: data.amenity,\n        id: index,\n        name: \"userCheckbox\",\n        onChange: this.totalInclude.bind(this),\n        \"data-index\": data.checked,\n        checked: data.checked,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 384\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        className: \"checkmark pull-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 392\n        },\n        __self: this\n      }), data.amenity === \"AC\" ? React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 395\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"Ameni1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 396\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"/images/ac.png\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 396\n        },\n        __self: this\n      })), React.createElement(\"span\", {\n        className: \"AmeniName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 397\n        },\n        __self: this\n      }, \"  \", data.amenity, \" \")) : data.amenity === \"Swimming Pool\" ? React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 401\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"Ameni1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 402\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"/images/pool.png\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 402\n        },\n        __self: this\n      })), React.createElement(\"span\", {\n        className: \"AmeniName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 403\n        },\n        __self: this\n      }, \"  \", data.amenity, \" \")) : data.amenity === \"Gas Pipeline\" ? React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 407\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"Ameni1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 408\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"/images/gasPipe.png\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 408\n        },\n        __self: this\n      })), React.createElement(\"span\", {\n        className: \"AmeniName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 409\n        },\n        __self: this\n      }, \"  \", data.amenity, \" \")) : data.amenity === \"24*7 Water\" ? React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 413\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"Ameni1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 414\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"/images/water.png\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 414\n        },\n        __self: this\n      })), React.createElement(\"span\", {\n        className: \"AmeniName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 415\n        },\n        __self: this\n      }, \"  \", data.amenity, \" \")) : data.amenity === \"Lift\" ? React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 419\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"Ameni1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 420\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"/images/lift.png\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 420\n        },\n        __self: this\n      })), React.createElement(\"span\", {\n        className: \"AmeniName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 421\n        },\n        __self: this\n      }, \"  \", data.amenity, \" \")) : data.amenity === \"Power Backup\" ? React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 425\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"Ameni1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 426\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"/images/powerBk.png\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 426\n        },\n        __self: this\n      })), React.createElement(\"span\", {\n        className: \"AmeniName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 427\n        },\n        __self: this\n      }, \"  \", data.amenity, \" \")) : data.amenity === \"Shopping Center\" ? React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 431\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"Ameni1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 432\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"/images/shopping.png\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 432\n        },\n        __self: this\n      })), React.createElement(\"span\", {\n        className: \"AmeniName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 433\n        },\n        __self: this\n      }, \"  \", data.amenity, \" \")) : data.amenity === \"Children's Play Area\" ? React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 437\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"Ameni1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 438\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"/images/playArea.png\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 438\n        },\n        __self: this\n      })), React.createElement(\"span\", {\n        className: \"AmeniName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 439\n        },\n        __self: this\n      }, \"  \", data.amenity, \" \")) : data.amenity === \"Internal Gym\" ? React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 443\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"Ameni1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 444\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"/images/gym.png\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 444\n        },\n        __self: this\n      })), React.createElement(\"span\", {\n        className: \"AmeniName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 445\n        },\n        __self: this\n      }, \"  \", data.amenity, \" \")) : data.amenity === \"Park\" ? React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 449\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"Ameni1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 450\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"/images/park.png\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 450\n        },\n        __self: this\n      })), React.createElement(\"span\", {\n        className: \"AmeniName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 451\n        },\n        __self: this\n      }, \"  \", data.amenity, \" \")) : data.amenity === \"Internet Services\" ? React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 455\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"Ameni1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 456\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"/images/internet.png\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 456\n        },\n        __self: this\n      })), React.createElement(\"span\", {\n        className: \"AmeniName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 457\n        },\n        __self: this\n      }, \"  \", data.amenity, \" \")) : React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 460\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"Ameni1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 461\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"/images/internet.png\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 461\n        },\n        __self: this\n      })), React.createElement(\"span\", {\n        className: \"AmeniName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 462\n        },\n        __self: this\n      }, \"  \", data.amenity, \" \"))));\n    }) : null)), React.createElement(\"div\", {\n      className: \"col-lg-12 col-md-12 col-sm-12 col-xs-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 480\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group col-lg-3\\tcol-md-3 col-sm-6 col-xs-6 pull-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 482\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-danger col-lg-12 col-md-12 col-sm-12 col-xs-12 mt23\",\n      onClick: this.backToPropertyDetails.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 483\n      },\n      __self: this\n    }, \" \\u21D0 \\xA0 \\xA0 Back \")), React.createElement(\"div\", {\n      className: \"form-group mgbt col-lg-3 col-md-3 col-sm-6 col-xs-6 pull-right \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 487\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"submit \",\n      className: \"btn nxt_btn col-lg-12 col-md-12 col-sm-12 col-xs-12 mb20 mt23\",\n      onClick: this.updateUser.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 488\n      },\n      __self: this\n    }, \"Save & Next \\xA0 \\xA0 \\u21D2\")))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    property_id: state.property_id,\n    uid: state.uid,\n    updateStatus: state.updateStatus\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    redirectToFinancialDetails: (uid, property_id) => dispatch({\n      type: \"REDIRECT_TO_FINANCIAL\",\n      uid: uid,\n      property_id: property_id\n    }),\n    backToPropertyDetails: (uid, property_id) => dispatch({\n      type: \"BACK_TO_PROPERTY_DETAILS\",\n      uid: uid,\n      property_id: property_id\n    })\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Amenities));","map":{"version":3,"sources":["/home/iassureit/react/tgk3t/webapp/field/src/blocks/PostProperty/Amenities/Amenities.js"],"names":["React","Component","axios","$","swal","Link","Route","withRouter","connect","Availability","Financials","Amenities","constructor","props","state","originalValues","allAmenities","prevAmenities","updateOperation","updateStatus","get","then","res","console","log","postsdata","data","setState","property_id","response","allAmenitiesData","allAmenitiesDataList","map","item","index","amenity","propPresent","find","obj","newObj","Object","assign","checked","catch","error","message","localStorage","removeItem","history","push","componentDidMount","defaults","headers","common","getItem","updateUser","event","preventDefault","ov","eq","length","i","redirectToFinancialDetails","uid","formValues","patch","status","totalInclude","target","getAttribute","checkedPropAmenityType","j","backToPropertyDetails","render","bind","mapStateToProps","mapDispatchToProps","dispatch","type"],"mappings":"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","sourcesContent":["import React , { Component }\tfrom 'react';\nimport axios \t\t\t\t\tfrom 'axios';\nimport $ \t\t\t\t\t\tfrom \"jquery\";\nimport swal                     from 'sweetalert';\nimport { Link }\t\t\t\t\tfrom 'react-router-dom';\nimport { Route , withRouter}    from 'react-router-dom';\nimport { connect } \t\t\t\tfrom 'react-redux';\nimport Availability \t\t\tfrom '../Availability/Availability.js';\nimport Financials \t\t\t\t\tfrom '../Financials/Financials.js';\n\nimport './Amenities.css';\n\n\n class Amenities extends Component{\n\n\t\tconstructor(props){\n\t\t\tsuper(props);\n\t\t\tthis.state = {\n\t\t\t\toriginalValues  : '',\n\t\t\t\tAmenities     : [],\n\t\t\t\tallAmenities  : \"\",\n\t\t\t\tprevAmenities : \"\",\n\t\t\t\tupdateOperation   : false,\n\n\t\t\t};\n\n\n\t\t\tif(this.props.updateStatus === true){\n\n\t\t\t\taxios\n\t\t\t\t.get('/api/masteramenities/list')\n\t\t\t\t.then(\n\t\t\t\t\t(res)=>{\n\t\t\t\t\t\tconsole.log('res postdata', res);\n\t\t\t\t\t\tconst postsdata = res.data;\n\t\t\t\t\t\tconsole.log('postsdata',postsdata);\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tallAmenities : postsdata,\n\t\t\t\t\t\t},()=>{\n\t\t\t\t\t\t\tconsole.log(\"here allAmenities by admin in update status true\",this.state.allAmenities);\n\t\t\t\t\t\t\taxios\n\t\t\t\t\t\t.get('/api/properties/'+this.props.property_id)\n\t\t\t\t\t\t.then( (response) =>{\n\t\t\t\t\t\t\tconsole.log(\"response.data.Amenities= \",response);\n\n\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\toriginalValues \t\t: response.data,\n\t\t\t\t\t\t\t\t\tprevAmenities \t\t: response.data.Amenities,\n\t\t\t\t\t\t\t\t\tupdateOperation     : true,\n\n\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t},()=>{\n\t\t\t\t\t\t\t\tconsole.log(\"here prevAmenities\", this.state.prevAmenities);\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tvar allAmenitiesData = this.state.allAmenities;\n\t\t\t\t\t\t\t\tconsole.log(\"here allAmenitiesData\", allAmenitiesData);\n\t\t\t\t\t\t\tvar allAmenitiesDataList = allAmenitiesData.map((item,index)=>{\n\t\t\t\t\t\t\t\tconsole.log(\"item\",item.amenity);\n\t\t\t\t\t\t\t\tvar propPresent = this.state.prevAmenities.find((obj)=>{\n\t\t\t\t\t\t\t\tconsole.log(\"obj\",obj);\n\t\t\t\t\t\t\t\t\treturn item.amenity === obj;\n\t\t\t\t\t\t\t\tconsole.log(\"here propPresent \", propPresent);\n\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tvar newObj = Object.assign({},item);\n\t\t\t\t\t\t\t\tif(propPresent){\n\t\t\t\t\t\t\t\t\tnewObj.checked = true\n\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\tnewObj.checked = false\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tconsole.log(\"newObj\",newObj);\n\t\t\t\t\t\t\t\treturn newObj;\n\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t// console.log(\"allAmenitiesDataList after data match\",allAmenitiesDataList);\n\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\tallAmenities : allAmenitiesDataList,\n\t\t\t\t\t\t\t\t},()=>{\n\t\t\t\t\t\t\t\t\tconsole.log(\"here allAmenities in didmount after match result\",this.state.allAmenities);\n\n\t\t\t\t\t\t\t\t});\n\n\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch((error)=>{\n\t                        console.log(\"error = \",error);\n\t                        if(error.message === \"Request failed with status code 401\")\n\t                        {\n\t                             swal(\"Your session is expired! Please login again.\",\"\", \"error\");\nlocalStorage.removeItem(\"uid\");\nlocalStorage.removeItem(\"token\");\n\t                             this.props.history.push(\"/\");\n\t                        }\n\t                    })\n\n\n\n\t\t\t\t\t\t\t// ------------------------------\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t\t.catch((error)=>{\n                        console.log(\"error = \",error);\n                        if(error.message === \"Request failed with status code 401\")\n                        {\n                             swal(\"Your session is expired! Please login again.\",\"\", \"error\");\nlocalStorage.removeItem(\"uid\");\nlocalStorage.removeItem(\"token\");\n                             this.props.history.push(\"/\");\n                        }\n                    });\t\n\n\t\t\t// -----------------------------------------------------------------------------------\n\n\t  \n        \t}\n\n\n\n\t\t}\n\n\tcomponentDidMount(){\n\n      axios.defaults.headers.common['Authorization'] = 'Bearer '+ localStorage.getItem(\"token\");\n\n\n\t\tconsole.log(\"update status in did mount\",this.props.updateStatus);\n\t\tif(this.props.updateStatus === false){\n\t\taxios\n\t\t\t.get('/api/masteramenities/list')\n\t\t\t.then(\n\t\t\t\t(res)=>{\n\t\t\t\t\tconsole.log('res postdata', res);\n\t\t\t\t\tconst postsdata = res.data;\n\t\t\t\t\tconsole.log('postsdata',postsdata);\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tallAmenities : postsdata,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t)\n\t\t\t.catch((error)=>{\n                        console.log(\"error = \",error);\n                        if(error.message === \"Request failed with status code 401\")\n                        {\n                             swal(\"Your session is expired! Please login again.\",\"\", \"error\");\nlocalStorage.removeItem(\"uid\");\nlocalStorage.removeItem(\"token\");\n                             this.props.history.push(\"/\");\n                        }\n            });\n\n// //////////////////////////////////////////////////////\n\n\t\t\tconsole.log(\"this.props.updateStatus\",this.props.updateStatus);\n\t\t\tconsole.log(\"this.props.property_id\",this.props.property_id);\n\t\t\tconsole.log(\"all amenities for admin\",this.state.allAmenities);\n\t\t\t\n\t\t\t}\n\n\t}\n\n\t\tupdateUser(event){\n\t\t\tevent.preventDefault();\n\n\t\t\tif(this.state.updateOperation === true){\n\t\t\t\tconsole.log(\"update fun\");\n\t\t\t\tvar ov = this.state.originalValues;\n\t\t\t\tvar allAmenitiesData = this.state.allAmenities;\n\t\t\t\tvar allAmenitiesDataList =[];\t\t\t\n\t\t\t\t\t\tallAmenitiesData.map((item,index)=>{\n\t\t\t\t\t\t\tif(item.checked == true)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tallAmenitiesDataList.push(item.amenity);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\tconsole.log(\"this.state.allAmenities\",this.state.allAmenities);\n\t\t\t\t\t\tconsole.log(\"allAmenitiesDataList true\",allAmenitiesDataList);\n\t\t\t\t\t\tconsole.log(\"here result amenity\",ov.Amenities);\n\t\t\t\n\t\t\t\tvar eq =\"\";\n\t\t\t\tif(allAmenitiesDataList.length != ov.Amenities.length )\n\t\t\t\t{\n\t\t\t\t\teq = false;\n\t\t\t\t\t console.log(\"equal not\",eq);\n\t\t\t\t}else{\n\t\t\t\t\t\n\t\t\t\t\tfor (var i = 0; i < allAmenitiesDataList.length; i++)\n\t\t\t\t\t{ \n\t\t\t            if (allAmenitiesDataList[i] != ov.Amenities[i]){\n\t\t\t\t\t\t\teq = false;\n\t\t\t            }else{\n\t\t\t\t\t\t\teq = true;\t\n\t\t\t            }\n\t\t\t       }\n\t\t\t        console.log(\"equal yes but same\",eq);\t\n\t\t\t\t}\n\n\t\t\t\tconsole.log(\"outside eq\",eq);\n\t\t\t\n\t\t\t\tif(eq === true)\n\t\t\t\t{\n\t\t\t\t\t\tconsole.log(\"same data\");\n\t\t\t\t\t\tthis.props.redirectToFinancialDetails(this.props.uid,this.props.property_id);\n\t\t\t\t}else{\n\t\t\t\t\t\t\tconsole.log(\"diff data\");\n\t\t\t\t\t\t\tconsole.log(\"allAmenities in result\",this.state.allAmenities);\n\t\t\t\t\t\t\tvar allAmenitiesData = this.state.allAmenities;\n\t\t\t\t\t\t\t\tvar allAmenitiesDataList =[];\t\t\t\n\t\t\t\t\t\t\t\t\t\tallAmenitiesData.map((item,index)=>{\n\t\t\t\t\t\t\t\t\t\t\tif(item.checked == true)\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tallAmenitiesDataList.push(item.amenity);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\t\t\t\tconsole.log(\"allAmenitiesDataList true\",allAmenitiesDataList);\n\n\t\t\t\t\t\t\tconst formValues = {\n\n\t\t\t\t\t\t\t\t\"Amenities\"\t\t\t: allAmenitiesDataList,\n\t\t\t\t\t\t\t\t\"property_id\" \t\t: localStorage.getItem(\"propertyId\"),\n\t\t\t\t\t\t\t\t\"uid\" \t\t\t\t: localStorage.getItem(\"uid\"),\n\t\t\t\t\t\t\t\t\n\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tconsole.log(\"Amenities req = \",formValues);\n\t\t\t\t\t\t\tif(allAmenitiesDataList!=\"\"){\n\t\t\t\t\t\t\t\t axios\n\t\t\t\t\t\t\t\t.patch('/api/properties/patch/amenities',formValues)\n\t\t\t\t\t\t\t\t.then( (res) =>{\n\t\t\t\t\t\t\t\t\tconsole.log(\"Amenities res = \",res);\n\t\t\t\t\t\t\t\t\tif(res.status === 200){\n\t\t\t\t\t\t\t\t\t\tthis.props.redirectToFinancialDetails(this.props.uid,this.props.property_id);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.catch((error)=>{\n\t\t\t                        console.log(\"error = \",error);\n\t\t\t                        if(error.message === \"Request failed with status code 401\")\n\t\t\t                        {\n\t\t\t                             swal(\"Your session is expired! Please login again.\",\"\", \"error\");\nlocalStorage.removeItem(\"uid\");\nlocalStorage.removeItem(\"token\");\n\t\t\t                             this.props.history.push(\"/\");\n\t\t\t                        }\n\t\t\t                    })\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tswal(\"Please select atleast one amenity\", \"\", \"warning\");\n\t\t\t\t                console.error(\"FORM INVALID - DISPLAY ERROR MESSAGE\");\n\t\t\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}else{\n\t\t\t\tconsole.log(\"submit fun\");\n\t\t\t\tconsole.log(\"allAmenities in result\",this.state.allAmenities);\n\t\t\t\tvar allAmenitiesData = this.state.allAmenities;\n\t\t\t\t\tvar allAmenitiesDataList =[];\t\t\t\n\t\t\t\t\t\t\tallAmenitiesData.map((item,index)=>{\n\t\t\t\t\t\t\t\tif(item.checked == true)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tallAmenitiesDataList.push(item.amenity);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\tconsole.log(\"allAmenitiesDataList true\",allAmenitiesDataList);\n\n\t\t\t\tconst formValues = {\n\n\t\t\t\t\t\"Amenities\"\t\t\t: allAmenitiesDataList,\n\t\t\t\t\t\"property_id\" \t\t: localStorage.getItem(\"propertyId\"),\n\t\t\t\t\t\"uid\" \t\t\t\t: localStorage.getItem(\"uid\"),\n\t\t\t\t\t\n\n\t\t\t\t\t\n\t\t\t\t};\n\t\t\t\tconsole.log(\"Amenities req = \",formValues);\n\t\t\t\tif(allAmenitiesDataList!=\"\"){\n\t\t\t\t\t axios\n\t\t\t\t\t.patch('/api/properties/patch/amenities',formValues)\n\t\t\t\t\t.then( (res) =>{\n\t\t\t\t\t\tconsole.log(\"Amenities res = \",res);\n\t\t\t\t\t\tif(res.status === 200){\n\t\t\t\t\t\t\tthis.props.redirectToFinancialDetails(this.props.uid,this.props.property_id);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error)=>{\n                        console.log(\"error = \",error);\n                        if(error.message === \"Request failed with status code 401\")\n                        {\n                             swal(\"Your session is expired! Please login again.\",\"\", \"error\");\nlocalStorage.removeItem(\"uid\");\nlocalStorage.removeItem(\"token\");\n                             this.props.history.push(\"/\");\n                        }\n                    })\n\t\t\t\t}else{\n\t\t\t\t\tswal(\"Please select atleast one amenity\", \"\", \"warning\");\n\t                console.error(\"FORM INVALID - DISPLAY ERROR MESSAGE\");\n\t\t\t\t}\n\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t}\n\n\t\ttotalInclude(event){\n\t\t\tconsole.log(\"event.target.getAttribute('value')\",event.target.getAttribute('value'));\n\t\t  var checkedPropAmenityType=[];\n\t\t  if(event.target.checked){\n\t\t  \tcheckedPropAmenityType = event.target.getAttribute('value');\n\t\t\tvar allAmenities=this.state.allAmenities;\n\t\t\tfor(let i=0; i <allAmenities.length; i++){\n\t\t\t\tfor (let j=0; j < checkedPropAmenityType.length; j++) {\n\t\t\t\t\tif(allAmenities[i].amenity === checkedPropAmenityType){\n\t\t\t\t\t\tallAmenities[i].checked = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.setState({\n\t\t\t\tallAmenities : allAmenities,\n\t\t\t},()=>{\n\t\t\t\tconsole.log(\"here allAmenities in function check \", this.state.allAmenities);\n\t\t\t});\n\n\t\t\t  // this.state.Amenities.push(e.target.getAttribute('value'));\n\t\t\t  // console.log(\"Amenities\",this.state.Amenities);\n\t\t  }else{\n\n\t\t\t \tcheckedPropAmenityType = event.target.getAttribute('value');\n\t\t\t\tvar allAmenities=this.state.allAmenities;\n\t\t\t\tfor(let i=0; i <allAmenities.length; i++){\n\t\t\t\t\tfor (let j=0; j < checkedPropAmenityType.length; j++){\n\t\t\t\t\t\tif(allAmenities[i].amenity === checkedPropAmenityType){\n\t\t\t\t\t\t\tallAmenities[i].checked = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.setState({\n\t\t\t\t\tallAmenities : allAmenities,\n\t\t\t\t},()=>{\n\t\t\t\t\tconsole.log(\"here allAmenities in function uncheck \", this.state.allAmenities);\n\n\t\t\t\t});\n\n\t\t\t  // this.state.Amenities.pop(e.target.getAttribute('value'));\t\n\t\t\t  // console.log(\"Amenities1\",this.state.Amenities);\n\t\t  }\n\n\t\t}\n\t\tbackToPropertyDetails(){\n\t\t// this.props.backToPropertyDetails();\n\t\tthis.props.backToPropertyDetails(this.props.uid,localStorage.getItem(\"propertyId\"));\n\n\t}\n\n\trender() {\n\t\t\t\tconsole.log(\"this.state.allAmenities\",this.state.allAmenities);\n    return (\n\t\t    <div className=\"col-lg-12 col-md-12  col-sm-12 col-xs-12 \">\n\t\t\t\t<form id=\"form\">\n\t\t\t  <div className=\" row\"></div>\n\t\t  \t {/*<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12 mrgBtm\">\t\n\t\t  \t \t<div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n\t\t  \t \t\tSelect the Amenities available\t\n\t\t  \t \t</div>\n\t\t  \t </div>*/}\n\t\t  \t <div className=\"col-lg-12  col-md-10 col-sm-12 col-xs-12 mt40 borderClass padd0\">\n\t\t  \t \t{/*<div className=\"col-lg-12  borderBtm padd0 AmeniCenter\">\n\t\t  \t \t\t<b>All Amenities</b>\n\t\t  \t \t</div>*/}\n\n\t\t  \t \t<div className = \"container-fluid padd0 \">\n\n\t\t  \t \t\t{console.log(\"here amenity in map\",this.state.allAmenities)}\n\t\t  \t \t\t{this.state.allAmenities && this.state.allAmenities.length > 0 ?\n\t\t  \t \t\t\tthis.state.allAmenities.map((data,index)=>{\n\t\t  \t \t\t\t\t// console.log(\"data\",data);\n\t\t  \t \t\t\t\treturn(\n\t\t  \t \t\t\t\t\t\t<div className=\"col-lg-6 FF4I1 sideBorder\" key={index}>\n\n\t\t\t\t\t\t\t\t\t\t<label className=\"container2\">\n\t\t\t\t\t\t\t\t\t\t\t  <input type=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\t\t  \t\t value={data.amenity} \n\t\t\t\t\t\t\t\t\t\t      \t\t id={index}\n\t\t\t\t\t\t\t\t\t\t      \t\t name=\"userCheckbox\"\n\t\t\t\t\t\t\t\t\t\t      \t\t onChange={this.totalInclude.bind(this)} \n\t\t\t\t\t\t\t\t\t\t      \t\t data-index={data.checked}\n\t\t\t\t\t\t\t\t\t\t      \t\t checked={data.checked}\n\t\t\t\t\t\t\t\t\t\t      \t\t />\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"checkmark pull-left\"></span>\n\n\t\t\t\t\t\t\t\t\t\t\t{data.amenity===\"AC\" ? \n\t\t\t\t\t\t\t\t\t\t\t\t<span> \n\t\t\t\t\t\t\t\t\t\t\t\t \t<span className=\"Ameni1\"><img src=\"/images/ac.png\" /></span>\n\t\t\t\t\t\t\t\t\t\t\t\t \t<span className=\"AmeniName\">  {data.amenity} </span>\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t    :\n\t\t\t\t\t\t\t\t\t\t\t\tdata.amenity===\"Swimming Pool\" ?\n\t\t\t\t\t\t\t\t\t\t\t\t<span> \n\t\t\t\t\t\t\t\t\t\t\t\t \t<span className=\"Ameni1\"><img src=\"/images/pool.png\" /></span>\n\t\t\t\t\t\t\t\t\t\t\t\t \t<span className=\"AmeniName\">  {data.amenity} </span>\n\t\t\t\t\t\t\t\t\t\t\t \t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t\t\tdata.amenity===\"Gas Pipeline\" ?\n\t\t\t\t\t\t\t\t\t\t\t\t<span> \n\t\t\t\t\t\t\t\t\t\t\t\t \t<span className=\"Ameni1\"><img src=\"/images/gasPipe.png\" /></span>\n\t\t\t\t\t\t\t\t\t\t\t\t \t<span className=\"AmeniName\">  {data.amenity} </span>\n\t\t\t\t\t\t\t\t\t\t\t \t</span>\n\t\t\t\t\t\t\t\t\t\t\t \t:\n\t\t\t\t\t\t\t\t\t\t\t \tdata.amenity===\"24*7 Water\" ?\n\t\t\t\t\t\t\t\t\t\t\t\t<span> \n\t\t\t\t\t\t\t\t\t\t\t\t \t<span className=\"Ameni1\"><img src=\"/images/water.png\" /></span>\n\t\t\t\t\t\t\t\t\t\t\t\t \t<span className=\"AmeniName\">  {data.amenity} </span>\n\t\t\t\t\t\t\t\t\t\t\t \t</span>\n\t\t\t\t\t\t\t\t\t\t\t \t:\n\t\t\t\t\t\t\t\t\t\t\t \tdata.amenity===\"Lift\" ?\n\t\t\t\t\t\t\t\t\t\t\t\t<span> \n\t\t\t\t\t\t\t\t\t\t\t\t \t<span className=\"Ameni1\"><img src=\"/images/lift.png\" /></span>\n\t\t\t\t\t\t\t\t\t\t\t\t \t<span className=\"AmeniName\">  {data.amenity} </span>\n\t\t\t\t\t\t\t\t\t\t\t \t</span>\n\t\t\t\t\t\t\t\t\t\t\t \t:\n\t\t\t\t\t\t\t\t\t\t\t \tdata.amenity===\"Power Backup\" ?\n\t\t\t\t\t\t\t\t\t\t\t\t<span> \n\t\t\t\t\t\t\t\t\t\t\t\t \t<span className=\"Ameni1\"><img src=\"/images/powerBk.png\" /></span>\n\t\t\t\t\t\t\t\t\t\t\t\t \t<span className=\"AmeniName\">  {data.amenity} </span>\n\t\t\t\t\t\t\t\t\t\t\t \t</span>\n\t\t\t\t\t\t\t\t\t\t\t \t:\n\t\t\t\t\t\t\t\t\t\t\t \tdata.amenity===\"Shopping Center\" ?\n\t\t\t\t\t\t\t\t\t\t\t\t<span> \n\t\t\t\t\t\t\t\t\t\t\t\t \t<span className=\"Ameni1\"><img src=\"/images/shopping.png\" /></span>\n\t\t\t\t\t\t\t\t\t\t\t\t \t<span className=\"AmeniName\">  {data.amenity} </span>\n\t\t\t\t\t\t\t\t\t\t\t \t</span>\n\t\t\t\t\t\t\t\t\t\t\t \t:\n\t\t\t\t\t\t\t\t\t\t\t \tdata.amenity===\"Children's Play Area\" ?\n\t\t\t\t\t\t\t\t\t\t\t\t<span> \n\t\t\t\t\t\t\t\t\t\t\t\t \t<span className=\"Ameni1\"><img src=\"/images/playArea.png\" /></span>\n\t\t\t\t\t\t\t\t\t\t\t\t \t<span className=\"AmeniName\">  {data.amenity} </span>\n\t\t\t\t\t\t\t\t\t\t\t \t</span>\n\t\t\t\t\t\t\t\t\t\t\t \t:\n\t\t\t\t\t\t\t\t\t\t\t \tdata.amenity===\"Internal Gym\" ?\n\t\t\t\t\t\t\t\t\t\t\t\t<span> \n\t\t\t\t\t\t\t\t\t\t\t\t \t<span className=\"Ameni1\"><img src=\"/images/gym.png\" /></span>\n\t\t\t\t\t\t\t\t\t\t\t\t \t<span className=\"AmeniName\">  {data.amenity} </span>\n\t\t\t\t\t\t\t\t\t\t\t \t</span>\n\t\t\t\t\t\t\t\t\t\t\t \t:\n\t\t\t\t\t\t\t\t\t\t\t \tdata.amenity===\"Park\" ?\n\t\t\t\t\t\t\t\t\t\t\t\t<span> \n\t\t\t\t\t\t\t\t\t\t\t\t \t<span className=\"Ameni1\"><img src=\"/images/park.png\" /></span>\n\t\t\t\t\t\t\t\t\t\t\t\t \t<span className=\"AmeniName\">  {data.amenity} </span>\n\t\t\t\t\t\t\t\t\t\t\t \t</span>\n\t\t\t\t\t\t\t\t\t\t\t \t:\n\t\t\t\t\t\t\t\t\t\t\t \tdata.amenity===\"Internet Services\" ?\n\t\t\t\t\t\t\t\t\t\t\t\t<span> \n\t\t\t\t\t\t\t\t\t\t\t\t \t<span className=\"Ameni1\"><img src=\"/images/internet.png\" /></span>\n\t\t\t\t\t\t\t\t\t\t\t\t \t<span className=\"AmeniName\">  {data.amenity} </span>\n\t\t\t\t\t\t\t\t\t\t\t \t</span>\n\t\t\t\t\t\t\t\t\t\t\t \t:\n\t\t\t\t\t\t\t\t\t\t\t\t<span> \n\t\t\t\t\t\t\t\t\t\t\t\t \t<span className=\"Ameni1\"><img src=\"/images/internet.png\" /></span>\n\t\t\t\t\t\t\t\t\t\t\t\t \t<span className=\"AmeniName\">  {data.amenity} </span>\n\t\t\t\t\t\t\t\t\t\t\t \t</span>\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t\t\t\t\t \n\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t</label>\n\t\t  \t \t\t\t\t\t\t</div>\n\t\t  \t \t\t\t\t\t);\n\t\t  \t \t\t\t})\n\t\t  \t \t\t\t:\n\t\t  \t \t\t\tnull\n\t\t  \t \t\t}\n\t\t  \t \t</div>\n\t\t  \t \t\n\t\t  \t</div>\n\t\t  <div className=\"col-lg-12 col-md-12 col-sm-12 col-xs-12\">\n\t\t  \t{\n\t\t  \t\t<div className=\"form-group col-lg-3\tcol-md-3 col-sm-6 col-xs-6 pull-left\">\n\t\t      \t\t <button className=\"btn btn-danger col-lg-12 col-md-12 col-sm-12 col-xs-12 mt23\" onClick={this.backToPropertyDetails.bind(this)}> &lArr; &nbsp; &nbsp; Back </button>\n\t\t  \t\t</div>\n\t\t  \t\t\n\t\t  \t}\n\t\t  \t<div className=\"form-group mgbt col-lg-3 col-md-3 col-sm-6 col-xs-6 pull-right \">\n\t\t       <button type=\"submit \"  className=\"btn nxt_btn col-lg-12 col-md-12 col-sm-12 col-xs-12 mb20 mt23\"  onClick={this.updateUser.bind(this)}>Save & Next &nbsp; &nbsp; &rArr;</button>\n\t\t  \t</div>\n\t\t  </div>\n\t\t  \n\t\t</form>\n\t</div>\n\t\t);\n\t}\n}\nconst mapStateToProps = (state)=>{\n\treturn {\n\t\tproperty_id     : state.property_id,\n\t\tuid\t\t\t    : state.uid,\n\t\tupdateStatus    : state.updateStatus,\t\t\n\n\n\t}\n};\nconst mapDispatchToProps = (dispatch)=>{\n\treturn {\n\t\tredirectToFinancialDetails  : (uid,property_id)=> dispatch({type: \"REDIRECT_TO_FINANCIAL\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuid:  uid,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tproperty_id: property_id\n\t\t\t\t\t\t\t\t\t\t}),\n\t\tbackToPropertyDetails  \t    : (uid,property_id)=> dispatch({type: \"BACK_TO_PROPERTY_DETAILS\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuid:  uid,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tproperty_id: property_id\n\t\t\t\t\t\t\t\t\t\t}),\n\t}\n};\nexport default connect(mapStateToProps,mapDispatchToProps)(withRouter(Amenities));\n"]},"metadata":{},"sourceType":"module"}